<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Journey • Caio Duque</title>
  <link rel="icon" href="/assets/images/favicon.png" type="image/png" />

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://caioduque.dev/journey/">
  <meta property="og:title" content="Journey • Caio Duque">
  <meta property="og:description" content="Ferramentas úteis + Timeline neon da minha trajetória técnica.">
  <meta property="og:image" content="https://caioduque.dev/assets/images/preview.png">
  <meta property="og:site_name" content="Caio Duque Portfólio">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://caioduque.dev/journey/">
  <meta name="twitter:title" content="Journey • Caio Duque">
  <meta name="twitter:description" content="Ferramentas úteis + Timeline neon da minha trajetória técnica.">
  <meta name="twitter:image" content="https://caioduque.dev/assets/images/preview.png">

  <!-- Tailwind via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Libs já usadas no site -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://d3js.org/d3.v7.min.js"></script>

  <style>
    /* ====== THEME & SHARED STYLES (herdados/compatíveis com a home) ====== */
    html, body { width: 100%; overflow-x: hidden; box-sizing: border-box; }
    *, *::before, *::after { box-sizing: inherit }
    body { background: #0b0c10; color: #e5e7eb; }
    body.has-fixed-header{ padding-top: 4rem; }

    .card {
      position: relative; z-index: 2; backdrop-filter: blur(10px);
      background-color: rgba(44,47,51,.60);
      border: 1px solid rgba(114,137,218,.30);
      transition: transform .25s ease, background-color .25s ease, box-shadow .25s ease;
    }
    .card:hover { transform: translateY(-3px); background-color: rgba(44,47,51,.30); box-shadow: 0 0 20px rgba(114,137,218,.35); z-index: 3; }

    /* BOTÕES “UNIVERSE” — MESMA BASE DA HOME */
.btn{
  position:relative;overflow:hidden;display:inline-flex;
  align-items:center;justify-content:center;gap:.45rem;
  padding:.25rem 1.25rem;
  font-size:.875rem;font-weight:600;
  color:#fff;text-shadow:0 0 6px #000;
  border-radius:.5rem;
  background-image:linear-gradient(180deg,#000 0%,#101010 100%);
  border:1px solid rgba(255,255,255,.15);
  backdrop-filter:blur(6px);
  box-shadow:0 0 10px rgba(0,0,0,.35);
  transition:background .4s ease,color .4s ease;
}
.btn::before{
  content:"";pointer-events:none;position:absolute;inset:0;
  background-image:
     radial-gradient(#fff 0 1px,transparent 1px 4px),
     radial-gradient(#fff 0 1px,transparent 1px 4px),
     radial-gradient(#fff 0 1px,transparent 1px 4px),
     radial-gradient(#fff 0 1px,transparent 1px 4px);
  background-size:90px 90px,140px 140px,60px 60px,180px 180px;
  background-position:0 0,60px 30px,30px 15px,45px 20px;
  opacity:.45; animation:moveStars 25s linear infinite;
}
@keyframes moveStars{
  from{background-position:0 0,60px 30px}
  to  {background-position:-600px 300px,-300px 150px}
}
.btn:hover{
  background-image:linear-gradient(135deg,#fff 0%,#e8e1ff 40%,#a68bff 100%);
  color:#000;text-shadow:none;
}
.btn:hover::before{
  opacity:0;animation-duration:6s;
}

/* Estilo específico do botão de Cybersegurança — IGUAL AO INDEX */
#cybersecurityModeBtn {
  background-color:#000; color:#fff; border:1px solid #000;
  transition:all .3s ease; box-shadow:0 0 0 rgba(139,92,246,0);
}
#cybersecurityModeBtn:hover {
  background-color:#fff; color:#000; border-color:#000;
  box-shadow:0 0 20px rgba(139,92,246,.5);
}
#cybersecurityModeBtn:hover img { filter: invert(1); }

    .dynamic-gradient{ position:relative; display:inline-block; background-image:linear-gradient(90deg,#5A4BFF 0%,#7B46FF 50%,#8E5CFF 100%);
      background-size:150% 150%; background-position:0% 50%; -webkit-background-clip:text; background-clip:text; color:transparent; }

    /* Header glass + hide/show on scroll */
    header{
      position:fixed; top:0; left:0; width:100%; z-index:50; backdrop-filter: blur(12px);
      background: rgba(44,47,51,.15); border-bottom:1px solid rgba(255,255,255,.1); box-shadow: 0 4px 14px rgba(0,0,0,.25);
      transition: transform .35s ease;
    }
    header.nav-hidden{
  transform: translateY(-110%);
  transition: transform .35s ease;
}
/* Responsivo do header (mesmo da home) */
@media (max-width:768px){
  header .container{ grid-template-columns: 1fr; gap:.5rem 1rem; }
  header h1{ justify-self:center; }
  nav{ justify-self:center; }
  #cybersecurityModeBtn{ justify-self:stretch; }
  header nav ul{
  display:grid; grid-template-columns:repeat(3,auto);
  justify-content:center; column-gap:1.25rem; row-gap:.65rem;
  }
  header nav li{ margin:0!important; text-align:center; }
  header nav a{ white-space:nowrap; font-size:.875rem; }
}
    @media (max-width:380px){
  .input{ font-size:.9rem; padding:.55rem .7rem; }
  .btn{ padding:.35rem .9rem; font-size:.85rem; }
}

    /* Scrollbar vidro */
    ::-webkit-scrollbar{ width:12px; }
    ::-webkit-scrollbar-track{ background: rgba(44,47,51,.2); backdrop-filter: blur(8px); border-left:1px solid rgba(255,255,255,.05); }
    ::-webkit-scrollbar-thumb{ background: rgba(200,200,255,.25); backdrop-filter: blur(4px); border-radius: 6px; border:2px solid rgba(255,255,255,.1); }
    ::-webkit-scrollbar-thumb:hover{ background: rgba(114,137,218,.5); }

    /* Inputs */
    .input{ background: rgba(17,24,39,.6); border:1px solid rgba(148,163,184,.25); border-radius:.6rem; padding:.6rem .8rem; color:#e5e7eb; }
    .input:focus{ outline: none; border-color: rgba(138,180,255,.8); box-shadow: 0 0 0 3px rgba(90,75,255,.25); }
    .label{ color:#9CA3AF; font-size:.85rem; }

    /* Neon timeline */
    .neon-panel{ position:relative; border-radius:1rem; padding:1.25rem; background:linear-gradient(180deg, rgba(16,16,24,.6), rgba(16,16,24,.35));
      border:1px solid rgba(138,180,255,.25); box-shadow: 0 0 24px rgba(90,100,244,.25) inset; }
    .neon-line{ stroke:#7B46FF; stroke-width:3; filter:url(#glow); }
    .neon-dot{ filter:url(#glow); }

    /* Toolbox grid */
    .tool-card{ display:flex; flex-direction:column; gap:.6rem; height:100%; }
    .tool-title{ font-weight:700; color:#dbeafe; letter-spacing:.3px; }
    .tool-desc{ color:#bcd0ff; font-size:.9rem; }
    .tool-actions{ display:flex; gap:.5rem; flex-wrap:wrap; }

    /* Command Palette */
    .cmdk-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,.45); display:none; align-items:flex-start; justify-content:center; padding-top:12vh; z-index:60; }
    .cmdk{ width:min(820px,92vw); border-radius:1rem; overflow:hidden; border:1px solid rgba(138,180,255,.25); background:rgba(28,28,40,.9); backdrop-filter:blur(10px); }
    .cmdk header{ position:relative; transform:none; box-shadow:none; border:none; }
    .cmdk-search{ width:100%; background:transparent; border:none; outline:none; padding:1rem 1.25rem; font-size:1.05rem; color:#e5e7eb; }
    .cmdk-list{ max-height:48vh; overflow:auto; }
    .cmdk-item{ padding:.8rem 1.25rem; cursor:pointer; }
    .cmdk-item:hover, .cmdk-item[aria-selected="true"]{ background:rgba(90,100,244,.18); }

    /* ===== Timeline Modal (glass) ===== */
#tlModalBackdrop{
  position:fixed; inset:0; display:none;
  align-items:center; justify-content:center; z-index:70;
  background:rgba(0,0,0,.55); backdrop-filter:blur(6px);
}
#tlModal{
  width:min(720px,92vw); border-radius:16px; overflow:hidden;
  background:rgba(28,28,40,.85);
  border:1px solid rgba(138,180,255,.25);
  box-shadow:0 0 40px rgba(114,137,218,.35);
}
#tlModal header{
  display:flex; align-items:center; gap:.75rem;
  padding:1rem 1.25rem; border-bottom:1px solid rgba(138,180,255,.2);
}
#tlModal .content{ padding:1rem 1.25rem 1.25rem; }
#tlModal .close{ margin-left:auto; }
#tlModal .badge-tech{
  display:inline-flex; align-items:center; gap:.45rem;
  padding:.35rem .7rem; border-radius:.6rem; color:#fff;
  border:1px solid rgba(255,255,255,.15);
  background:linear-gradient(135deg,#5c64f4,#8e5cff);
}
#tlModal img.icon{ width:40px; height:40px; border-radius:50%; }
#tlModal .meta{ color:#bcd0ff; font-size:.9rem; }
@media (max-width:480px){
  #tlModal header{ flex-wrap:wrap; }
}

    /* ==== Global: bloquear seleção de texto (com exceções úteis) ==== */
:where(html, body, body *):not(input):not(textarea):not(select):not([contenteditable="true"]):not(.selectable) {
  -webkit-user-select: none !important; /* Safari/Chrome iOS */
  -moz-user-select: none !important;    /* Firefox */
  -ms-user-select: none !important;     /* IE/Edge legado */
  user-select: none !important;
  -webkit-touch-callout: none;          /* desabilita menu de toque no iOS */
}

/* Se não quiser que imagens sejam “arrastáveis” */
img { -webkit-user-drag: none; user-drag: none; }

    /* BG canvas */
    canvas#bg-canvas{ position:fixed; inset:0; width:100vw; height:100vh; z-index:-1; pointer-events:none; display:block; }
  </style>
</head>
<body class="font-sans bg-gray-900 text-gray-100">
  <script>document.body.classList.add('has-fixed-header');</script>
  <canvas id="bg-canvas"></canvas>

  <!-- ===== HEADER (mesma pegada da home) ===== -->
<header
  class="
    fixed top-0 left-0 w-full z-50
    bg-[#2c2f33]/15
    backdrop-blur-md
    border-b border-white/10
    shadow-md shadow-black/20
    transition-colors
    will-change-transform
  ">
  <div class="container mx-auto px-4 py-4 grid grid-cols-[auto_1fr_auto] items-center">
    <h1 class="text-4xl font-extrabold text-white">Caio Duque</h1>
    <nav class="justify-self-center">
      <ul class="flex space-x-6 font-semibold">
        <li><a href="/" class="hover:text-indigo-200 transition">Início</a></li>
        <li><a href="https://github.com/cai0duque" target="_blank" rel="noopener noreferrer" class="hover:text-indigo-200 transition">GitHub</a></li>
        <li><a href="/#contatos" class="hover:text-indigo-200 transition">Contatos</a></li>
        <li><a href="/#learnconnect" class="hover:text-indigo-200 transition">Projetos</a></li>
        <li><a aria-current="page" href="/journey" class="text-indigo-300">Jornada</a></li>
      </ul>
    </nav>
    <a href="/kali" id="cybersecurityModeBtn" class="btn justify-self-end">
      <img src="/assets/images/kali.png"
           onerror="this.src='https://placehold.co/24x24/000/FFF?text=K';"
           alt="Kali Icon"
           class="w-6 h-6 mr-2 transition-filter duration-300" />
      Modo Cybersecurity
    </a>
  </div>
</header>

  <!-- ===== HERO ===== -->
  <section class="relative pt-28 md:pt-32 pb-10">
    <div class="container mx-auto px-4">
      <div class="card rounded-xl p-8 md:p-10 flex flex-col md:flex-row gap-6 items-center md:items-start">
        <div class="flex-1 text-center md:text-left">
          <h2 class="dynamic-gradient text-4xl md:text-5xl font-extrabold">Journey</h2>
          <p class="mt-3 text-gray-200/90 text-pretty text-balance md:text-lg">Uma hub de <span class="font-semibold">ferramentas úteis</span> que realmente uso no dia a dia — e um modo <span class="font-semibold">Timeline Neon</span> que mostra minha trajetória em Python, JS, React, Next.js, Tailwind e mais.</p>
          <div class="mt-5 flex flex-wrap gap-3">
            <a href="#toolbox" class="btn">Abrir Toolbox</a>
            <button id="openTimelineBtn" class="btn">Ver Timeline Neon</button>
            <button id="openCmdkBtn" class="btn" title="Ctrl/Cmd + K">Command Palette</button>
          </div>
        </div>
        <div class="w-full md:w-auto">
          <img src="/assets/images/old_duques_logo.png" alt="Marca" class="w-28 h-28 rounded-full ring-4 ring-indigo-500 mx-auto md:mx-0">
        </div>
      </div>
    </div>
  </section>

  <!-- ===== TOOLBOX ===== -->
  <section id="toolbox" class="container mx-auto px-4 pb-20">
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4">
  <h3 class="text-2xl md:text-3xl font-bold text-indigo-400">Toolbox</h3>
  <div class="flex items-center gap-2 w-full sm:w-auto">
    <label for="toolSearch" class="label">Buscar</label>
    <input id="toolSearch" class="input w-full sm:w-80 md:w-[420px] max-w-full"
           placeholder="busque por nome, tag ou descrição (ex: regex, jwt, hash, px→rem)..." />
  </div>
</div>


    <div class="grid sm:grid-cols-2 xl:grid-cols-3 gap-6" id="toolsGrid">
      <!-- CALCULADORA EXPRESSÕES -->
      <div class="card rounded-xl p-5 tool-card" data-keywords="calc matemática math expressão funções seno cos log pow raiz">
        <div>
          <div class="tool-title">Calculadora de Expressões</div>
          <div class="tool-desc">Suporta + - * / ( ) e funções do <code>Math</code> (ex: <code>sin(1)+pow(2,3)</code>).</div>
        </div>
        <input id="exprInput" class="input" placeholder="Ex.: (2+3)*4 / sin(1)" />
        <div class="tool-actions">
          <button class="btn" id="evalBtn">Calcular</button>
          <button class="btn" id="clearExprBtn">Limpar</button>
        </div>
        <pre id="exprOut" class="bg-black/40 rounded-lg p-3 overflow-auto whitespace-pre-wrap break-words break-all min-h-[48px]">—</pre>
      </div>

      <!-- PX ⇄ REM -->
      <div class="card rounded-xl p-5 tool-card" data-keywords="px rem responsivo tailwind tipografia conversão">
        <div>
          <div class="tool-title">Conversor px ⇄ rem</div>
          <div class="tool-desc">Base padrão 16px (edite se quiser). Útil p/ Tailwind e responsividade.</div>
        </div>
        <div class="grid grid-cols-3 gap-3 items-end">
          <label class="label col-span-2">Tamanho base (px)</label>
          <input id="remBase" type="number" min="8" value="16" class="input w-full col-span-1"/>
          <div class="col-span-3 grid grid-cols-2 gap-3">
            <div>
              <label class="label">px</label>
              <input id="pxIn" class="input w-full" placeholder="ex: 24"/>
            </div>
            <div>
              <label class="label">rem</label>
              <input id="remIn" class="input w-full" placeholder="ex: 1.5"/>
            </div>
          </div>
        </div>
        <div class="tool-actions">
          <button class="btn" id="pxToRem">px → rem</button>
          <button class="btn" id="remToPx">rem → px</button>
        </div>
        <pre id="remOut" class="bg-black/40 rounded-lg p-3 overflow-auto whitespace-pre-wrap break-words break-all min-h-[48px]">—</pre>
      </div>

      <!-- REGEX TESTER -->
      <div class="card rounded-xl p-5 tool-card" data-keywords="regex expressão regular teste match flags g i m s u y">
        <div>
          <div class="tool-title">Regex Tester</div>
          <div class="tool-desc">Testa um padrão em um texto e destaca correspondências.</div>
        </div>
        <div class="grid grid-cols-3 gap-3">
          <div class="col-span-2">
            <label class="label">Padrão</label>
            <input id="regexPattern" class="input w-full" placeholder="ex: (caio|duque)"/>
          </div>
          <div>
            <label class="label">Flags</label>
            <input id="regexFlags" class="input w-full" placeholder="ex: gi"/>
          </div>
        </div>
        <textarea id="regexText" class="input w-full h-32" placeholder="Texto de teste..."></textarea>
        <div class="tool-actions">
          <button class="btn" id="regexRun">Rodar</button>
          <button class="btn" id="regexClear">Limpar</button>
        </div>
        <div id="regexResult" class="bg-black/40 rounded-lg p-3 overflow-auto min-h-[48px] whitespace-pre-wrap break-words break-all">—</div>
      </div>

      <!-- HASH (SHA) -->
      <div class="card rounded-xl p-5 tool-card" data-keywords="hash sha256 sha512 criptografia checksum segurança">
        <div>
          <div class="tool-title">Hash (SHA‑256 / SHA‑512)</div>
          <div class="tool-desc">Gera hash seguro no navegador com WebCrypto.</div>
        </div>
        <textarea id="hashText" class="input w-full h-24" placeholder="Digite seu texto..."></textarea>
        <div class="tool-actions">
          <button class="btn" id="doSHA256">SHA‑256</button>
          <button class="btn" id="doSHA512">SHA‑512</button>
        </div>
        <pre id="hashOut" class="bg-black/40 rounded-lg p-3 overflow-auto whitespace-pre-wrap break-words break-all min-h-[48px] break-all">—</pre>
      </div>

      <!-- JWT DECODER -->
      <div class="card rounded-xl p-5 tool-card" data-keywords="jwt token decode debug segurança base64url">
        <div>
          <div class="tool-title">JWT Decoder</div>
          <div class="tool-desc">Decodifica header e payload (sem verificar assinatura).</div>
        </div>
        <textarea id="jwtText" class="input w-full h-24" placeholder="Cole seu token JWT..."></textarea>
        <div class="tool-actions">
          <button class="btn" id="decodeJWT">Decodificar</button>
        </div>
        <pre id="jwtOut" class="bg-black/40 rounded-lg p-3 overflow-auto whitespace-pre-wrap break-words break-all min-h-[72px]">—</pre>
      </div>

      <!-- BASE64 ⇄ Texto (UTF‑8) -->
      <div class="card rounded-xl p-5 tool-card" data-keywords="base64 encode decode utf8 string binário">
        <div>
          <div class="tool-title">Base64 ⇄ Texto (UTF‑8)</div>
          <div class="tool-desc">Codifica/decodifica com suporte a caracteres especiais.</div>
        </div>
        <textarea id="b64Text" class="input w-full h-24" placeholder="Digite o texto..."></textarea>
        <div class="tool-actions">
          <button class="btn" id="toB64">→ Base64</button>
          <button class="btn" id="fromB64">Base64 →</button>
        </div>
        <pre id="b64Out" class="bg-black/40 rounded-lg p-3 overflow-auto whitespace-pre-wrap break-words break-all min-h-[48px] break-words">—</pre>
      </div>

      <!-- JSON FORMATTER -->
      <div class="card rounded-xl p-5 tool-card" data-keywords="json format pretty minify validação parse stringify">
        <div>
          <div class="tool-title">JSON Formatter</div>
          <div class="tool-desc">Valida e formata (pretty/minify) seu JSON.</div>
        </div>
        <textarea id="jsonText" class="input w-full h-32" placeholder='Ex.: {"name":"Caio","skills":["JS","Python"]}'></textarea>
        <div class="tool-actions">
          <button class="btn" id="jsonPretty">Pretty</button>
          <button class="btn" id="jsonMinify">Minify</button>
        </div>
        <pre id="jsonOut" class="bg-black/40 rounded-lg p-3 overflow-auto whitespace-pre-wrap break-words break-all min-h-[48px]">—</pre>
      </div>

      <!-- CORES & CONVERSÕES -->
      <div class="card rounded-xl p-5 tool-card" data-keywords="cores color rgb hex hsl tailwind design">
        <div>
          <div class="tool-title">Conversor de Cores</div>
          <div class="tool-desc">HEX ⇄ RGB ⇄ HSL + seletor visual.</div>
        </div>
        <div class="flex items-center gap-3">
          <input id="colorPicker" type="color" class="h-10 w-14 rounded-md bg-transparent border border-white/20" value="#5c64f4"/>
          <input id="colorInput" class="input w-full" value="#5c64f4"/>
          <button id="colorConvert" class="btn">Converter</button>
        </div>
        <pre id="colorOut" class="bg-black/40 rounded-lg p-3 overflow-auto whitespace-pre-wrap break-words break-all min-h-[48px]">rgb(92, 100, 244) • hsl(237, 88%, 66%)</pre>
      </div>

      <!-- DATAS & DIFERENÇAS -->
      <div class="card rounded-xl p-5 tool-card" data-keywords="data diferença duração dias horas minutos timestamp">
        <div>
          <div class="tool-title">Diferença entre Datas</div>
          <div class="tool-desc">Calcule intervalo exato entre duas datas/horas.</div>
        </div>
        <div class="grid sm:grid-cols-2 gap-3">
          <div>
            <label class="label">De</label>
            <input id="dateA" type="datetime-local" class="input w-full" />
          </div>
          <div>
            <label class="label">Até</label>
            <input id="dateB" type="datetime-local" class="input w-full" />
          </div>
        </div>
        <div class="tool-actions">
          <button id="dateDiffBtn" class="btn">Calcular</button>
          <button id="dateNowA" class="btn">De = agora</button>
          <button id="dateNowB" class="btn">Até = agora</button>
        </div>
        <pre id="dateOut" class="bg-black/40 rounded-lg p-3 overflow-auto min-h-[48px]">—</pre>
      </div>

      <!-- BASES: BIN/DEC/HEX -->
      <div class="card rounded-xl p-5 tool-card" data-keywords="binário hexadecimal decimal base conversor bits números">
        <div>
          <div class="tool-title">Conversor Bin ⇄ Dec ⇄ Hex</div>
          <div class="tool-desc">Sincroniza automaticamente os três formatos.</div>
        </div>
        <div class="grid grid-cols-1 gap-2">
          <div>
            <label class="label">Binário</label>
            <input id="binInput" class="input w-full" placeholder="101010"/>
          </div>
          <div>
            <label class="label">Decimal</label>
            <input id="decInput" class="input w-full" placeholder="42"/>
          </div>
          <div>
            <label class="label">Hexadecimal</label>
            <input id="hexInput" class="input w-full" placeholder="2A"/>
          </div>
        </div>
      </div>

      <!-- TEXTO: SLUG & CASES -->
      <div class="card rounded-xl p-5 tool-card" data-keywords="texto slugify camel snake kebab maiúsculas minúsculas remover acentos">
        <div>
          <div class="tool-title">Utilidades de Texto</div>
          <div class="tool-desc">Slugify, cases e remoção de acentos.</div>
        </div>
        <textarea id="textUtilIn" class="input w-full h-24" placeholder="Digite seu texto..."></textarea>
        <div class="tool-actions">
          <button class="btn" data-text-action="slug">Slugify</button>
          <button class="btn" data-text-action="camel">camelCase</button>
          <button class="btn" data-text-action="snake">snake_case</button>
          <button class="btn" data-text-action="kebab">kebab-case</button>
          <button class="btn" data-text-action="upper">MAIÚSCULAS</button>
          <button class="btn" data-text-action="lower">minúsculas</button>
          <button class="btn" data-text-action="noaccent">Remover acentos</button>
        </div>
        <pre id="textUtilOut" class="bg-black/40 rounded-lg p-3 overflow-auto whitespace-pre-wrap break-words break-all min-h-[48px]">—</pre>
      </div>

      <!-- UUID v4 -->
      <div class="card rounded-xl p-5 tool-card" data-keywords="uuid identificador aleatório guid v4">
        <div>
          <div class="tool-title">Gerador UUID v4</div>
          <div class="tool-desc">Gera identificadores aleatórios seguros.</div>
        </div>
        <div class="tool-actions">
          <button class="btn" id="uuidOne">Gerar 1</button>
          <button class="btn" id="uuidMany">Gerar 10</button>
        </div>
        <pre id="uuidOut" class="bg-black/40 rounded-lg p-3 overflow-auto whitespace-pre-wrap break-words break-all min-h-[48px]">—</pre>
      </div>

      <!-- URL ENCODE/DECODE + UTM -->
      <div class="card rounded-xl p-5 tool-card" data-keywords="url encode decode utm campanha querystring">
        <div>
          <div class="tool-title">URL Tools + UTM</div>
          <div class="tool-desc">Codifica/decodifica e monta UTMs rápido.</div>
        </div>
        <input id="urlIn" class="input w-full" placeholder="https://exemplo.com?x=1&y=2"/>
        <div class="tool-actions">
          <button class="btn" id="urlEncode">encodeURI</button>
          <button class="btn" id="urlDecode">decodeURI</button>
        </div>
        <div class="grid sm:grid-cols-3 gap-3">
          <input id="utmSource" class="input" placeholder="utm_source"/>
          <input id="utmMedium" class="input" placeholder="utm_medium"/>
          <input id="utmCampaign" class="input" placeholder="utm_campaign"/>
        </div>
        <div class="tool-actions">
          <button class="btn" id="buildUTM">Montar URL com UTM</button>
        </div>
        <pre id="urlOut" class="bg-black/40 rounded-lg p-3 overflow-auto min-h-[48px] break-words">—</pre>
      </div>
    </div>
  </section>

  <!-- ===== TIMELINE SECTION (ancora simples) ===== -->
  <section id="timeline" class="container mx-auto px-4 pb-28">
  <div class="flex items-center justify-between mb-4">
    <h3 class="text-2xl md:text-3xl font-bold text-indigo-400">Timeline Neon</h3>
    <button id="openTimelineBtn2" class="btn">Abrir em Overlay</button>
  </div>
  <div class="neon-panel">
    <!-- ⬇️ era overlayTimeline, volta a ser inlineTimeline -->
    <div id="inlineTimeline" class="w-full h-[40vh] md:h-[340px]"></div>
    <p class="text-sm text-indigo-200/80 mt-3">Dica: clique nos pontos para ver o marco. Use os filtros no Overlay para focar por tecnologia.</p>
  </div>
</section>


  <!-- ===== OVERLAY TIMELINE (Command-style) ===== -->
  <div id="timelineOverlay" class="fixed inset-0 hidden z-50 p-6 bg-black/60 backdrop-blur-sm">
    <div class="max-w-6xl mx-auto">
      <div class="card rounded-xl p-6">
        <div class="flex flex-col gap-3 md:flex-row md:items-end md:justify-between">
          <div>
            <h4 class="text-2xl font-bold text-indigo-300">Minha trajetória (modo neon)</h4>
            <p class="text-indigo-100/80">Selecione tecnologias para filtrar.</p>
          </div>
          <div class="flex flex-wrap gap-2">
            <label class="inline-flex items-center gap-2"><input type="checkbox" class="techFilter" value="Python" checked> <span>Python</span></label>
            <label class="inline-flex items-center gap-2"><input type="checkbox" class="techFilter" value="JavaScript" checked> <span>JavaScript</span></label>
            <label class="inline-flex items-center gap-2"><input type="checkbox" class="techFilter" value="React" checked> <span>React</span></label>
            <label class="inline-flex items-center gap-2"><input type="checkbox" class="techFilter" value="Next.js" checked> <span>Next.js</span></label>
            <label class="inline-flex items-center gap-2"><input type="checkbox" class="techFilter" value="Tailwind CSS" checked> <span>Tailwind</span></label>
            <label class="inline-flex items-center gap-2"><input type="checkbox" class="techFilter" value="SQL" checked> <span>SQL</span></label>
            <label class="inline-flex items-center gap-2"><input type="checkbox" class="techFilter" value="Cybersecurity" checked> <span>Cybersecurity</span></label>
          </div>
        </div>
        <div id="overlayTimeline" class="w-full h-[480px] mt-4"></div>
        <div class="mt-4 flex justify-between">
          <button id="closeTimelineBtn" class="btn">Fechar</button>
          <a href="/assets/CaioDuque_CV.pdf" class="btn" download>Baixar CV</a>
        </div>
      </div>
    </div>
  </div>

  <!-- ===== Command Palette ===== -->
  <div id="cmdk" class="cmdk-backdrop">
    <div class="cmdk">
      <header>
        <input id="cmdkSearch" class="cmdk-search" placeholder="Digite para procurar ferramentas… (ex: json, regex, jwt, cores)" />
      </header>
      <div id="cmdkList" class="cmdk-list"></div>
    </div>
  </div>

  <!-- ===== FOOTER ===== -->
  <footer class="py-6">
    <p class="text-center text-sm" style="color:#8ab4ff;text-shadow:0 0 4px #5c64f4, 0 0 8px #5c64f4, 0 0 12px #5c64f4;">© 2025 Caio Duque. Journey • ferramentas + timeline.</p>
  </footer>

  <div id="tlModalBackdrop" aria-hidden="true">
  <div id="tlModal" role="dialog" aria-modal="true" aria-labelledby="tlModalTitle">
    <header>
      <img class="icon" id="tlModalIcon" alt="" />
      <div>
        <div class="badge-tech" id="tlModalTech">Tech</div>
        <h5 id="tlModalTitle" class="text-xl font-bold text-indigo-100 mt-1">Título</h5>
      </div>
      <button class="btn close" id="tlModalClose">Fechar</button>
    </header>
    <div class="content">
      <p class="meta" id="tlModalDate"></p>
      <p id="tlModalNote" class="mt-2"></p>
    </div>
  </div>
</div>

  <!-- ===== SCRIPTS ===== -->
  <script>
    /* ========= Canvas de partículas (Three.js) ========= */
    (() => {
  const canvas = document.getElementById('bg-canvas');
  if (!canvas) return;

  // Scene
  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(75, innerWidth/innerHeight, 0.1, 1000);
  const renderer = new THREE.WebGLRenderer({ canvas, alpha:true });
  renderer.setSize(innerWidth, innerHeight);
  renderer.setPixelRatio(Math.min(devicePixelRatio, 2));

  // Partículas
  const particlesCount = 300;
  const positions = new Float32Array(particlesCount * 3);
  for (let i = 0; i < particlesCount; i++) {
    positions[i*3+0] = (Math.random()-0.5)*10;
    positions[i*3+1] = (Math.random()-0.5)*10;
    positions[i*3+2] = (Math.random()-0.5)*10;
  }
  const particlesGeometry = new THREE.BufferGeometry();
  particlesGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
  const particlesMaterial = new THREE.PointsMaterial({
    color: 0x99AAB5, size: 0.03, blending: THREE.AdditiveBlending, transparent: true, sizeAttenuation: true
  });
  const particles = new THREE.Points(particlesGeometry, particlesMaterial);
  scene.add(particles);

  // Linhas (constelações)
  const linesGeometry = new THREE.BufferGeometry();
  const linesMaterial = new THREE.LineBasicMaterial({
    color: 0x7289DA, transparent: true, opacity: 0.3, blending: THREE.AdditiveBlending
  });
  const linePositions = new Float32Array(particlesCount * particlesCount * 3);
  linesGeometry.setAttribute('position', new THREE.BufferAttribute(linePositions, 3));
  const lines = new THREE.LineSegments(linesGeometry, linesMaterial);
  scene.add(lines);

  camera.position.z = 5;

  // Mouse parallax + scroll
  const mouse = new THREE.Vector2();
  addEventListener('mousemove', (e) => {
    mouse.x = (e.clientX / innerWidth)  * 2 - 1;
    mouse.y = -(e.clientY / innerHeight) * 2 + 1;
  });

  addEventListener('resize', () => {
    camera.aspect = innerWidth/innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(innerWidth, innerHeight);
    renderer.setPixelRatio(Math.min(devicePixelRatio, 2));
  });

  const clock = new THREE.Clock();

  function animate() {
    const t = clock.getElapsedTime();
    particles.rotation.y = t * 0.05;
    particles.rotation.x = t * 0.05;

    const scrollMax = document.documentElement.scrollHeight - innerHeight;
    const scrollPercent = scrollMax > 0 ? (scrollY / scrollMax) : 0;
    camera.position.z = 5 - scrollPercent * 4;
    camera.position.y = -scrollPercent * 2;

    camera.position.x += (mouse.x * 0.5 - camera.position.x) * 0.02;
    camera.position.y += (-mouse.y * 0.5 - camera.position.y) * 0.02;
    camera.lookAt(scene.position);

    // Atualiza as linhas só para pontos próximos
    let idx = 0;
    const p = particles.geometry.attributes.position.array;
    const maxDistSq = 1 * 1; // 1 unidade^2
    for (let i = 0; i < particlesCount; i++) {
      const ix = p[i*3], iy = p[i*3+1], iz = p[i*3+2];
      for (let j = i + 1; j < particlesCount; j++) {
        const jx = p[j*3], jy = p[j*3+1], jz = p[j*3+2];
        const dx = ix - jx, dy = iy - jy, dz = iz - jz;
        const distSq = dx*dx + dy*dy + dz*dz;
        if (distSq < maxDistSq) {
          linePositions[idx++] = ix; linePositions[idx++] = iy; linePositions[idx++] = iz;
          linePositions[idx++] = jx; linePositions[idx++] = jy; linePositions[idx++] = jz;
        }
      }
    }
    lines.geometry.attributes.position.needsUpdate = true;
    lines.geometry.setDrawRange(0, idx / 3);

    renderer.render(scene, camera);
    requestAnimationFrame(animate);
  }
  animate();
})();

    /* ========= Header hide/show on scroll ========= */
    (() => {
  const nav = document.querySelector('header');
  let lastY = scrollY, hideTO = null;
  addEventListener('scroll', () => {
    const cur = scrollY;
    if (cur > lastY + 16) { clearTimeout(hideTO); hideTO = setTimeout(() => nav.classList.add('nav-hidden'), 250); lastY = cur; }
    else if (cur < lastY - 16) { nav.classList.remove('nav-hidden'); lastY = cur; }
  });
})();


    /* ========= Toolbox search ========= */
    (()=>{
      const search = document.getElementById('toolSearch'); const grid = document.getElementById('toolsGrid'); const cards=[...grid.children];
      const doFilter=(q)=>{ q=q.toLowerCase(); cards.forEach(c=>{ const text=(c.innerText+" "+(c.dataset.keywords||'')).toLowerCase(); c.style.display = text.includes(q)?'flex':'none'; }); };
      search.addEventListener('input', e=>doFilter(e.target.value));
    })();

    /* ========= Command Palette (Ctrl/Cmd+K) ========= */
    (()=>{
      const backdrop = document.getElementById('cmdk'); const input = document.getElementById('cmdkSearch'); const list = document.getElementById('cmdkList');
      const tools = [
        {id:'#exprInput', label:'Calculadora de Expressões'},
        {id:'#regexPattern', label:'Regex Tester'},
        {id:'#hashText', label:'Hash SHA‑256/512'},
        {id:'#jwtText', label:'JWT Decoder'},
        {id:'#b64Text', label:'Base64 UTF‑8'},
        {id:'#jsonText', label:'JSON Formatter'},
        {id:'#colorInput', label:'Conversor de Cores'},
        {id:'#dateA', label:'Diferença entre Datas'},
        {id:'#binInput', label:'Conversor Bin/Dec/Hex'},
        {id:'#textUtilIn', label:'Utilidades de Texto'},
        {id:'#urlIn', label:'URL Tools + UTM'},
        {id:'#pxIn', label:'px ⇄ rem'}
      ];
      function open(){ backdrop.style.display='flex'; input.value=''; render(''); setTimeout(()=>input.focus(),10); }
      function close(){ backdrop.style.display='none'; }
      document.getElementById('openCmdkBtn').addEventListener('click', open);
      addEventListener('keydown', (e)=>{ if((e.ctrlKey||e.metaKey) && e.key.toLowerCase()==='k'){ e.preventDefault(); backdrop.style.display==='flex'?close():open(); } if(e.key==='Escape') close(); });
      input.addEventListener('input', e=>render(e.target.value));
      function render(q){ q=q.toLowerCase(); list.innerHTML=''; tools.filter(t=>t.label.toLowerCase().includes(q)).forEach((t,i)=>{
        const item=document.createElement('div'); item.className='cmdk-item'; item.textContent=t.label; item.tabIndex=0; if(i===0) item.setAttribute('aria-selected','true');
        item.onclick=()=>{ close(); const el=document.querySelector(t.id); if(el){ el.scrollIntoView({behavior:'smooth', block:'center'}); el.focus({preventScroll:true}); } };
        list.appendChild(item);
      }); }
      backdrop.addEventListener('click', (e)=>{ if(e.target===backdrop) close(); });
    })();

    /* ========= Calculadora de Expressões ========= */
    (()=>{
      const expr = document.getElementById('exprInput'); const out = document.getElementById('exprOut');
      function safeEval(code){
        // Sanitização simples: apenas números, operadores, parênteses, vírgulas, pontos e letras de funções Math
        if(!/^[0-9+\-*/%().,\s^]*[A-Za-z]*[0-9+\-*/%().,\s^A-Za-z]*$/.test(code)) throw new Error('Expressão inválida.');
        // Mapeia funções conhecidas para Math.*
        const mapFns = ['sin','cos','tan','abs','sqrt','log','pow','min','max','floor','ceil','round','exp','random','PI','E'];
        let expr = code.replace(/\^/g,'**');
        mapFns.forEach(fn=>{ const re=new RegExp(`\\b${fn}\\b`,'g'); expr = expr.replace(re, `Math.${fn}`); });
        // eslint-disable-next-line no-new-func
        return Function(`"use strict"; return (${expr})`)();
      }
      document.getElementById('evalBtn').addEventListener('click',()=>{ try{ const v=safeEval(expr.value||''); out.textContent=String(v); }catch(e){ out.textContent='Erro: '+e.message; }});
      document.getElementById('clearExprBtn').addEventListener('click',()=>{ expr.value=''; out.textContent='—'; });
    })();

    /* ========= px ⇄ rem ========= */
    (()=>{
      const base = document.getElementById('remBase'); const px = document.getElementById('pxIn'); const rem = document.getElementById('remIn'); const out=document.getElementById('remOut');
      function px2rem(){ const b=+base.value||16; const v=parseFloat(px.value); if(isNaN(v)) return out.textContent='—'; out.textContent=(v/b)+'rem'; }
      function rem2px(){ const b=+base.value||16; const v=parseFloat(rem.value); if(isNaN(v)) return out.textContent='—'; out.textContent=(v*b)+'px'; }
      document.getElementById('pxToRem').addEventListener('click', px2rem);
      document.getElementById('remToPx').addEventListener('click', rem2px);
    })();

    /* ========= Regex Tester ========= */
    (()=>{
      const pat=document.getElementById('regexPattern'); const flg=document.getElementById('regexFlags'); const txt=document.getElementById('regexText'); const res=document.getElementById('regexResult');
      const run = () => {
  try {
    const r = new RegExp(pat.value, flg.value);
    const input = txt.value || '';
    const matches = [...input.matchAll(r)];
    if (!matches.length) { res.textContent = 'Sem correspondências.'; return; }

    const esc = s => s.replace(/[&<>"']/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c]));
    let out = '', last = 0;
    matches.forEach(m => {
      const idx = m.index;
      out += esc(input.slice(last, idx));
      out += `<mark>${esc(m[0])}</mark>`;
      last = idx + m[0].length;
    });
    out += esc(input.slice(last));
    res.innerHTML = out;
  } catch(e) {
    res.textContent = 'Erro: ' + e.message;
  }
};
      document.getElementById('regexRun').addEventListener('click', run);
      document.getElementById('regexClear').addEventListener('click', ()=>{ pat.value=''; flg.value=''; txt.value=''; res.textContent='—'; });
    })();

    /* ========= Hash SHA ========= */
    async function sha(hexAlg, msg){
      const enc = new TextEncoder(); const data=enc.encode(msg||''); const dig = await crypto.subtle.digest(hexAlg, data);
      return [...new Uint8Array(dig)].map(b=>b.toString(16).padStart(2,'0')).join('');
    }
    (()=>{
      const input=document.getElementById('hashText'); const out=document.getElementById('hashOut');
      document.getElementById('doSHA256').addEventListener('click', async()=>{ out.textContent='Calculando…'; out.textContent=await sha('SHA-256', input.value); });
      document.getElementById('doSHA512').addEventListener('click', async()=>{ out.textContent='Calculando…'; out.textContent=await sha('SHA-512', input.value); });
    })();

    /* ========= JWT Decoder ========= */
    (()=>{
      const input=document.getElementById('jwtText'); const out=document.getElementById('jwtOut');
      function b64urlToStr(s){ s=s.replace(/-/g,'+').replace(/_/g,'/'); const pad = s.length%4? '='.repeat(4-(s.length%4)) : ''; s+=pad; try{ return decodeURIComponent(Array.prototype.map.call(atob(s),c=>'%'+('00'+c.charCodeAt(0).toString(16)).slice(-2)).join('')); }catch{ return atob(s); } }
      document.getElementById('decodeJWT').addEventListener('click',()=>{
        try{ const parts=(input.value||'').split('.'); if(parts.length<2) throw new Error('Token inválido');
          const header=JSON.parse(b64urlToStr(parts[0])); const payload=JSON.parse(b64urlToStr(parts[1])); out.textContent=JSON.stringify({header,payload}, null, 2);
        }catch(e){ out.textContent='Erro: '+e.message; }
      });
    })();

    /* ========= Base64 UTF‑8 ========= */
    (()=>{
      const input=document.getElementById('b64Text'); const out=document.getElementById('b64Out');
      function toB64(s){ return btoa(unescape(encodeURIComponent(s))); }
      function fromB64(b){ return decodeURIComponent(escape(atob(b))); }
      document.getElementById('toB64').addEventListener('click',()=>{ try{ out.textContent=toB64(input.value||''); }catch(e){ out.textContent='Erro: '+e.message; } });
      document.getElementById('fromB64').addEventListener('click',()=>{ try{ out.textContent=fromB64(input.value||''); }catch(e){ out.textContent='Erro: '+e.message; } });
    })();

    /* ========= JSON Formatter ========= */
    (()=>{
      const input=document.getElementById('jsonText'); const out=document.getElementById('jsonOut');
      document.getElementById('jsonPretty').addEventListener('click',()=>{ try{ out.textContent=JSON.stringify(JSON.parse(input.value||'{}'), null, 2); }catch(e){ out.textContent='Erro: '+e.message; } });
      document.getElementById('jsonMinify').addEventListener('click',()=>{ try{ out.textContent=JSON.stringify(JSON.parse(input.value||'{}')); }catch(e){ out.textContent='Erro: '+e.message; } });
    })();

    /* ========= Color Converter ========= */
    (()=>{
      const picker=document.getElementById('colorPicker'); const input=document.getElementById('colorInput'); const out=document.getElementById('colorOut');
      function hexToRgb(hex){ hex=hex.replace('#',''); if(hex.length===3) hex=[...hex].map(x=>x+x).join(''); const num=parseInt(hex,16); return {r:(num>>16)&255, g:(num>>8)&255, b:num&255}; }
      function rgbToHsl(r,g,b){ r/=255; g/=255; b/=255; const max=Math.max(r,g,b), min=Math.min(r,g,b); let h,s,l=(max+min)/2; if(max===min){ h=s=0; } else { const d=max-min; s=l>0.5? d/(2-max-min) : d/(max+min); switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break;} h/=6; } return {h:Math.round(h*360), s:Math.round(s*100), l:Math.round(l*100)}; }
      function convert(val){ let rgb; if(/^#?[0-9a-fA-F]{3,6}$/.test(val)){ rgb=hexToRgb(val); } else if(/^\s*rgb\s*\(/.test(val)){ const m=val.match(/rgb\s*\((\d+)\s*,\s*(\d+)\s*,\s*(\d+)\)/); if(!m) throw new Error('RGB inválido'); rgb={r:+m[1],g:+m[2],b:+m[3]}; } else { throw new Error('Use HEX (#aabbcc) ou rgb(r,g,b)'); }
        const hsl=rgbToHsl(rgb.r,rgb.g,rgb.b); const hex = '#'+[rgb.r,rgb.g,rgb.b].map(v=>v.toString(16).padStart(2,'0')).join(''); out.textContent = `rgb(${rgb.r}, ${rgb.g}, ${rgb.b}) • hsl(${hsl.h}, ${hsl.s}%, ${hsl.l}%) • ${hex}`; picker.value=hex; input.value=hex; }
      picker.addEventListener('input', e=>convert(e.target.value));
      document.getElementById('colorConvert').addEventListener('click',()=>{ try{ convert(input.value.trim()); }catch(e){ out.textContent='Erro: '+e.message; } })
      convert('#5c64f4');
    })();

    /* ========= Datas ========= */
    (()=>{
      const a=document.getElementById('dateA'); const b=document.getElementById('dateB'); const out=document.getElementById('dateOut');
      const pad=n=>String(n).padStart(2,'0');
      function diff(){ try{
        const t1= a.value? new Date(a.value).getTime() : NaN; const t2= b.value? new Date(b.value).getTime() : NaN; if(isNaN(t1)||isNaN(t2)) throw new Error('Defina as duas datas.');
        let ms=Math.abs(t2-t1); const sign = (t2>=t1)?'+':'-';
        const days=Math.floor(ms/86400000); ms%=86400000; const h=Math.floor(ms/3600000); ms%=3600000; const m=Math.floor(ms/60000); ms%=60000; const s=Math.floor(ms/1000);
        out.textContent = `${sign} ${days}d ${pad(h)}h ${pad(m)}m ${pad(s)}s`;
      }catch(e){ out.textContent='Erro: '+e.message; } }
      document.getElementById('dateDiffBtn').addEventListener('click', diff);
      document.getElementById('dateNowA').addEventListener('click', ()=>{ a.value=new Date().toISOString().slice(0,16); });
      document.getElementById('dateNowB').addEventListener('click', ()=>{ b.value=new Date().toISOString().slice(0,16); });
    })();

    /* ========= Bases ========= */
    (()=>{
      const bin=document.getElementById('binInput'); const dec=document.getElementById('decInput'); const hex=document.getElementById('hexInput');
      const syncFrom=(src)=>{
        try{
          if(src==='bin'){ const v=parseInt(bin.value.replace(/[^01]/g,''),2); if(isNaN(v)) throw 0; dec.value=String(v); hex.value=v.toString(16).toUpperCase(); }
          if(src==='dec'){ const v=parseInt(dec.value.replace(/[^0-9]/g,''),10); if(isNaN(v)) throw 0; bin.value=v.toString(2); hex.value=v.toString(16).toUpperCase(); }
          if(src==='hex'){ const v=parseInt(hex.value.replace(/[^0-9a-fA-F]/g,''),16); if(isNaN(v)) throw 0; dec.value=String(v); bin.value=v.toString(2); }
        }catch{ /* ignore */ }
      };
      bin.addEventListener('input', ()=>syncFrom('bin'));
      dec.addEventListener('input', ()=>syncFrom('dec'));
      hex.addEventListener('input', ()=>syncFrom('hex'));
    })();

    /* ========= Texto Utils ========= */
    (()=>{
      const input=document.getElementById('textUtilIn'); const out=document.getElementById('textUtilOut');
      const map = {
        slug: s=>s.normalize('NFD').replace(/\p{Diacritic}/gu,'').toLowerCase().replace(/[^a-z0-9\s-]/g,'').trim().replace(/\s+/g,'-').replace(/-+/g,'-'),
        camel: s=>{ const w=s.normalize('NFD').replace(/\p{Diacritic}/gu,'').toLowerCase().match(/[a-z0-9]+/g)||[]; return w.map((x,i)=> i? x[0].toUpperCase()+x.slice(1) : x).join(''); },
        snake: s=> (s.normalize('NFD').replace(/\p{Diacritic}/gu,'').toLowerCase().match(/[a-z0-9]+/g)||[]).join('_'),
        kebab: s=> (s.normalize('NFD').replace(/\p{Diacritic}/gu,'').toLowerCase().match(/[a-z0-9]+/g)||[]).join('-'),
        upper: s=> s.toUpperCase(),
        lower: s=> s.toLowerCase(),
        noaccent: s=> s.normalize('NFD').replace(/\p{Diacritic}/gu,'')
      };
      document.querySelectorAll('[data-text-action]').forEach(btn=>{
        btn.addEventListener('click',()=>{ const k=btn.dataset.textAction; const fn=map[k]; out.textContent = fn? fn(input.value||'') : '—'; });
      });
    })();

    /* ========= UUID ========= */
    (()=>{
      const out=document.getElementById('uuidOut');
      const gen=()=>{ const b=new Uint8Array(16); crypto.getRandomValues(b); b[6]=(b[6]&0x0f)|0x40; b[8]=(b[8]&0x3f)|0x80; const h=[...b].map((x,i)=> (i===4||i===6||i===8||i===10?'-':'')+x.toString(16).padStart(2,'0')).join(''); return h; };
      document.getElementById('uuidOne').addEventListener('click',()=>{ out.textContent=gen(); });
      document.getElementById('uuidMany').addEventListener('click',()=>{ out.textContent = Array.from({length:10}, gen).join('\n'); });
    })();

    /* ========= URL Tools ========= */
    (()=>{
      const urlIn=document.getElementById('urlIn'); const out=document.getElementById('urlOut');
      document.getElementById('urlEncode').addEventListener('click',()=>{ try{ out.textContent=encodeURI(urlIn.value||''); }catch(e){ out.textContent='Erro: '+e.message; } });
      document.getElementById('urlDecode').addEventListener('click',()=>{ try{ out.textContent=decodeURI(urlIn.value||''); }catch(e){ out.textContent='Erro: '+e.message; } });
      document.getElementById('buildUTM').addEventListener('click',()=>{ try{
        const u=new URL(urlIn.value||'https://exemplo.com/');
        const s=document.getElementById('utmSource').value.trim();
        const m=document.getElementById('utmMedium').value.trim();
        const c=document.getElementById('utmCampaign').value.trim();
        if(s) u.searchParams.set('utm_source', s); if(m) u.searchParams.set('utm_medium', m); if(c) u.searchParams.set('utm_campaign', c);
        out.textContent=u.toString();
      }catch(e){ out.textContent='Erro: URL inválida'; } });
    })();

    /* ========= Timeline Data ========= */
    const timelineData = [
      // Edite livremente os marcos (ano, mês opcional 1-12)
      { tech:'Python', year:2018, month:6, title:'Início com Python + Cybersec', note:'Primeiros scripts e automações; porta de entrada para bots e CTFs.' },
      { tech:'JavaScript', year:2019, month:9, title:'JS para Web', note:'Primeiros projetos front e interações dinâmicas.' },
      { tech:'React', year:2023, month:4, title:'Migração para React', note:'Componentização e estados para UIs mais complexas.' },
      { tech:'Next.js', year:2024, month:10, title:'SSR & Rotas App Dir', note:'Base para projetos com SEO e APIs no mesmo stack.' },
      { tech:'Tailwind CSS', year:2024, month:11, title:'Design veloz', note:'Produtividade alta com utilitários e consistência visual.' },
      { tech:'SQL', year:2025, month:1, title:'Data Analyst FPrA', note:'Consultas diárias e análise de dados de corridas.' },
      { tech:'Cybersecurity', year:2018, month:8, title:'Labs & CTFs', note:'Estudo contínuo, curiosidade e práticas seguras.' },
      // Projetos notáveis (ajuste datas)
      { tech:'Next.js', year:2025, month:2, title:'LearnConnect', note:'Frontend em Next.js; integrações com API e UX interativa.' },
      { tech:'React', year:2025, month:3, title:'Comentários & Likes', note:'Integração real-time/REST no LearnConnect.' },
      { tech:'Tailwind CSS', year:2025, month:3, title:'Nova Home animada', note:'Interações, neon e scroll suave.' },
    ];

      const techIcon = {
    'Python':        '/assets/images/python.png',
    'JavaScript':    '/assets/images/javascript.png',
    'React':         '/assets/images/react.png',
    'Next.js':       '/assets/images/nextjs.png',
    'Tailwind CSS':  '/assets/images/tailwindcss.png',
    'SQL':           '/assets/images/sql.png',
    'Cybersecurity': '/assets/images/cybersecurity.png'
  };
    const TL_FALLBACK_ICON = '/assets/images/galaxy_badge.png';

    /* ===== Modal helpers ===== */
function openTimelineModal(d){
  const b = document.getElementById('tlModalBackdrop');
  document.getElementById('tlModalTech').textContent  = d.tech;
  document.getElementById('tlModalTitle').textContent = d.title || d.tech;
  document.getElementById('tlModalNote').textContent  = d.note || '';
  const m = d.month ? String(d.month).padStart(2,'0')+'/' : '';
  document.getElementById('tlModalDate').textContent  = m + d.year;
  const icon = document.getElementById('tlModalIcon');
  icon.src = (techIcon && techIcon[d.tech]) ? techIcon[d.tech] : '/assets/images/galaxy_badge.png';
  icon.alt = d.tech;
  b.style.display = 'flex';
  setTimeout(()=>document.getElementById('tlModalClose').focus(), 10);
}
function closeTimelineModal(){
  document.getElementById('tlModalBackdrop').style.display='none';
}
document.getElementById('tlModalClose').addEventListener('click', closeTimelineModal);
document.getElementById('tlModalBackdrop').addEventListener('click', (e)=>{ if(e.target.id==='tlModalBackdrop') closeTimelineModal(); });
addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeTimelineModal(); });


/* ========= Inline Timeline (compacta, com ícones + modal) ========= */
function renderInlineTimeline(){
  const el = document.getElementById('inlineTimeline'); el.innerHTML='';
  const margin={top:10,right:10,bottom:30,left:10};
  const w = el.clientWidth - margin.left - margin.right;
  const h = el.clientHeight - margin.top - margin.bottom;

  const svgRoot = d3.select(el).append('svg')
    .attr('width', w+margin.left+margin.right)
    .attr('height', h+margin.top+margin.bottom);

  const svg = svgRoot.append('g').attr('transform',`translate(${margin.left},${margin.top})`);

  // glow local para a inline
  const defs = svg.append('defs');
  const glow = defs.append('filter').attr('id','glow-inline');
  glow.append('feGaussianBlur').attr('stdDeviation','3.5').attr('result','blur');
  const merge = glow.append('feMerge');
  merge.append('feMergeNode').attr('in','blur');
  merge.append('feMergeNode').attr('in','SourceGraphic');

  const years = d3.extent(timelineData, d=> d.year + ((d.month||1)-1)/12 );
  const x = d3.scaleLinear().domain([years[0]-0.2, years[1]+0.2]).range([0,w]);

  // linha base
  svg.append('line')
    .attr('x1',0).attr('x2',w).attr('y1',h/2).attr('y2',h/2)
    .attr('stroke','#7B46FF').attr('stroke-width',2).attr('opacity',.35);

  // rótulos de ano
  const ticks = d3.range(Math.floor(years[0]), Math.ceil(years[1])+1);
  svg.selectAll('text.lbl').data(ticks).enter().append('text')
    .attr('class','lbl').attr('x', d=>x(d)).attr('y', h/2+22)
    .attr('text-anchor','middle').attr('fill','#c7d2fe').attr('font-size',12)
    .text(d=>d);

  // escala de cor por tech (só para o aro)
  const color = d3.scaleOrdinal()
    .domain([...new Set(timelineData.map(d=>d.tech))])
    .range(d3.schemeTableau10);

  // grupos dos pontos (agora com imagem + clique)
  const gpts = svg.selectAll('g.pt').data(timelineData).enter()
    .append('g')
    .attr('class','pt')
    .attr('transform', d=>`translate(${x(d.year+((d.month||1)-1)/12)}, ${h/2})`)
    .style('cursor','pointer')
    .on('click', (evt,d)=> openTimelineModal(d));

  // aro com glow
  gpts.append('circle')
    .attr('r',10)
    .attr('fill','#0b0c10')
    .attr('stroke', d=>color(d.tech))
    .attr('stroke-width',2)
    .attr('filter','url(#glow-inline)');

  // clip circular + imagem (16px)
  gpts.each(function(d,i){
    const g = d3.select(this);
    g.append('clipPath').attr('id',`clipInline${i}`).append('circle').attr('r',8);
    g.append('image')
      .attr('href', (techIcon && techIcon[d.tech]) ? techIcon[d.tech] : '/assets/images/galaxy_badge.png')
      .attr('width',16).attr('height',16).attr('x',-8).attr('y',-8)
      .attr('clip-path',`url(#clipInline${i})`);
  });

  const oldTip = document.getElementById('inlineTip');
  if (oldTip) oldTip.remove();
  // tooltip (mesmo esquema de antes)
  const tip = d3.select('body').append('div')
    .attr('id','inlineTip')
    .style('position','fixed').style('display','none').style('z-index',55)
    .style('padding','8px 10px').style('border-radius','10px')
    .style('backdrop-filter','blur(10px)')
    .style('background','rgba(44,47,51,.55)')
    .style('border','1px solid rgba(114,137,218,.35)')
    .style('color','#F9FAFB');

  gpts.on('mouseenter', function(evt, d){
        d3.select(this).select('circle').transition().attr('r',12);
        tip.style('display','block')
           .html(`<strong>${d.tech}</strong><br>${d.title}<br><span style="opacity:.8">${d.year}${d.month?('/'+String(d.month).padStart(2,'0')):''}</span>`);
      })
      .on('mousemove', (evt)=>{ tip.style('left',(evt.pageX+12)+'px').style('top',(evt.pageY-10)+'px'); })
      .on('mouseleave', function(){ d3.select(this).select('circle').transition().attr('r',10); tip.style('display','none'); });
}

    /* ========= Overlay Timeline (neon, com filtros) ========= */
/* ========= Overlay Timeline (neon, filtros, ícones + modal) ========= */
function renderOverlayTimeline(filterSet){
  const el = document.getElementById('overlayTimeline'); el.innerHTML='';
  const dataAll = timelineData.filter(d=> filterSet.has(d.tech));
  if(!dataAll.length){ el.innerHTML = '<div class="text-indigo-200/80 p-4">Nenhum marco com os filtros atuais.</div>'; return; }

  const margin = {top:20,right:20,bottom:30,left:80};
  const w = el.clientWidth - margin.left - margin.right;
  const h = el.clientHeight - margin.top - margin.bottom;

  const svgRoot = d3.select(el).append('svg')
    .attr('width', w+margin.left+margin.right)
    .attr('height', h+margin.top+margin.bottom);

  const svg = svgRoot.append('g').attr('transform',`translate(${margin.left},${margin.top})`);

  // glow
  const defs = svg.append('defs');
  const glow = defs.append('filter').attr('id','glow');
  glow.append('feGaussianBlur').attr('stdDeviation','3.5').attr('result','coloredBlur');
  const feMerge = glow.append('feMerge');
  feMerge.append('feMergeNode').attr('in','coloredBlur');
  feMerge.append('feMergeNode').attr('in','SourceGraphic');

  const techs = [...new Set(dataAll.map(d=>d.tech))].sort();
  const y = d3.scaleBand().domain(techs).range([0,h]).padding(0.4);
  const x = d3.scaleLinear()
              .domain(d3.extent(dataAll, d=> d.year + ((d.month||1)-1)/12))
              .nice().range([0,w]);

  // linhas por tecnologia
  svg.selectAll('line.row').data(techs).enter().append('line')
    .attr('x1',0).attr('x2',w)
    .attr('y1', d=>y(d)+y.bandwidth()/2).attr('y2', d=>y(d)+y.bandwidth()/2)
    .attr('class','neon-line').attr('opacity',.35);

  // labels
  svg.selectAll('text.tech').data(techs).enter().append('text')
    .attr('x',-10).attr('y', d=>y(d)+y.bandwidth()/2)
    .attr('text-anchor','end').attr('dominant-baseline','middle')
    .attr('fill','#c7d2fe').text(d=>d);

  // cor do aro
  const color = d3.scaleOrdinal().domain(techs).range(d3.schemeTableau10);

  // grupos clicáveis (com ícone)
  const pts = svg.selectAll('g.pt').data(dataAll).enter()
    .append('g')
    .attr('class','pt')
    .attr('transform', d=> `translate(${x(d.year+((d.month||1)-1)/12)}, ${y(d.tech)+y.bandwidth()/2})`)
    .style('cursor','pointer')
    .on('click', (evt, d)=> openTimelineModal(d));

  // aro (com glow) + miolo escuro
  pts.append('circle')
    .attr('r', 9)
    .attr('class', 'neon-dot')
    .attr('fill', '#0b0c10')
    .attr('stroke', d=> color(d.tech))
    .attr('stroke-width', 2);

  // imagem recortada no círculo
  pts.each(function(d,i){
    const g = d3.select(this);
    const clipId = `clipOverlay${i}`;
    g.append('clipPath').attr('id', clipId)
      .append('circle').attr('r', 7.5);
    g.append('image')
      .attr('href', techIcon[d.tech] || TL_FALLBACK_ICON)
      .attr('width', 15).attr('height', 15)
      .attr('x', -7.5).attr('y', -7.5)
      .attr('preserveAspectRatio', 'xMidYMid slice')
      .attr('clip-path', `url(#${clipId})`);
  });

  // ripple sutil
  pts.append('circle').attr('r', 7.5).attr('fill','none')
    .attr('stroke', d=>color(d.tech)).attr('opacity', .6)
    .transition().duration(1200).ease(d3.easeCubic)
    .attr('r', 22).attr('opacity', 0).on('end', function(){ d3.select(this).remove(); });

  // eixo X (anos)
  const xAxis = d3.axisBottom(x).ticks(6).tickFormat(d3.format('d'));
  svg.append('g').attr('transform',`translate(0,${h})`).call(xAxis)
    .selectAll('text').attr('fill','#c7d2fe');
  svg.selectAll('.domain, .tick line').attr('stroke','#94a3b8');
}

    // Inicializa Inline Timeline
    renderInlineTimeline();
    addEventListener('resize', ()=>{ renderInlineTimeline(); });

    // Overlay handlers
    (function(){
      const overlay=document.getElementById('timelineOverlay');
      const openBtns=[document.getElementById('openTimelineBtn'), document.getElementById('openTimelineBtn2')];
      const closeBtn=document.getElementById('closeTimelineBtn');
      function open(){ overlay.classList.remove('hidden'); const checks=[...document.querySelectorAll('.techFilter')]; const set=new Set(checks.filter(c=>c.checked).map(c=>c.value)); renderOverlayTimeline(set); }
      function close(){ overlay.classList.add('hidden'); }
      openBtns.forEach(b=>b.addEventListener('click', open));
      closeBtn.addEventListener('click', close);
      overlay.addEventListener('click', (e)=>{ if(e.target===overlay) close(); });
      document.querySelectorAll('.techFilter').forEach(chk=>{ chk.addEventListener('change',()=>{
        const checks=[...document.querySelectorAll('.techFilter')]; const set=new Set(checks.filter(c=>c.checked).map(c=>c.value)); renderOverlayTimeline(set);
      }); });
    })();
  </script>
</body>
</html>


