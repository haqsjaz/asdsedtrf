document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll('a[target="_blank"]').forEach(e=>{/\bnoopener\b/.test(e.rel)&&/\bnoreferrer\b/.test(e.rel)||(e.rel="noopener noreferrer")});const e=document.getElementById("nome"),t=new Map;function n(e){let n=t.get(e);n||(n={rafId:null,angle:0,spinning:!1},t.set(e,n)),n.spinning||(n.angle=0,e.style.setProperty("--angle","0deg"),n.spinning=!0,function t(){n.spinning&&(n.angle=(n.angle+6)%360,e.style.setProperty("--angle",n.angle+"deg"),n.rafId=requestAnimationFrame(t))}(),e.classList.add("radial"))}function a(e){let n=t.get(e);n&&(n.spinning=!1,n.rafId&&cancelAnimationFrame(n.rafId),n.rafId=null,e.classList.remove("radial"),e.style.backgroundPosition="0% 50%")}function r(e,t){const n=e.getBoundingClientRect(),a=(t.clientX-n.left)/n.width*100,r=(t.clientY-n.top)/n.height*100;e.style.setProperty("--cx",a+"%"),e.style.setProperty("--cy",r+"%")}const o=document.getElementById("profileCard");o.addEventListener("mouseenter",()=>n(e)),o.addEventListener("mousemove",t=>r(e,t)),o.addEventListener("mouseleave",()=>a(e)),e.addEventListener("mouseenter",()=>n(e)),e.addEventListener("mousemove",t=>r(e,t)),e.addEventListener("mouseleave",t=>{o.contains(t.relatedTarget)||a(e)}),window.addEventListener("scroll",()=>{if(!e.classList.contains("radial")){const t=document.documentElement.scrollHeight-window.innerHeight,n=window.scrollY/t*100;e.style.backgroundPosition=`${n}% 50%`}});const i=document.querySelector("header");let s=window.scrollY,d=null;window.addEventListener("scroll",()=>{const e=window.scrollY;e>s+16?(clearTimeout(d),d=setTimeout(()=>i.classList.add("nav-hidden"),250),s=e):e<s-16&&(i.classList.remove("nav-hidden"),s=e)});const c=document.querySelector(".carousel-container"),l=document.getElementById("serverCarouselTrack"),u=document.getElementById("carouselPrev"),g=document.getElementById("carouselNext");if(l){let m,p=Array.from(document.querySelectorAll("#serverCarouselTrack > .server-card")),f=[],h=0,y=!1,w=1,v=1;function E(){if(0===p.length)return;const e=p[p.length-1].cloneNode(!0),t=p[0].cloneNode(!0);l.innerHTML="",l.appendChild(e),p.forEach(e=>l.appendChild(e.cloneNode(!0))),l.appendChild(t),f=Array.from(l.children),h=w,x(!0)}function x(e=!1){if(y&&!e)return;e?l.style.transition="none":(l.style.transition="transform 0.5s ease-in-out",y=!0),f.forEach((e,t)=>{e.classList.remove("is-center","is-left","is-right"),t===h?e.classList.add("is-center"):t===(h-1+f.length)%f.length?e.classList.add("is-left"):t===(h+1)%f.length&&e.classList.add("is-right")});const t=f[h],n=c.getBoundingClientRect(),a=t.getBoundingClientRect(),r=n.left+n.width/2-(a.left+a.width/2),o=new(window.DOMMatrixReadOnly||window.WebKitCSSMatrix)(getComputedStyle(l).transform).m41+r;l.style.transform=`translateX(${o}px)`,l.style.transform=`translateX(${o}px)`,e||setTimeout(()=>{y=!1},500)}l.addEventListener("transitionend",e=>{if("transform"!==e.propertyName)return;y=!1;let t=!1;h>=f.length-v?(h=w,t=!0):h<w&&(h=f.length-v-w,t=!0),t&&(l.style.transition="none",x(!0),l.offsetWidth,l.style.transition="transform 0.5s ease-in-out")}),g.addEventListener("click",()=>{y||(h++,x())}),u.addEventListener("click",()=>{y||(h--,x())});const b=()=>{L(),m=setInterval(()=>g.click(),6e3)},L=()=>clearInterval(m);c.addEventListener("mouseenter",L),c.addEventListener("mouseleave",b),window.addEventListener("resize",E),E(),b()}(()=>{const e=document.getElementById("bg-canvas");if(!e)return;const t=new THREE.Scene,n=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),a=new THREE.WebGLRenderer({canvas:e,alpha:!0});a.setSize(window.innerWidth,window.innerHeight),a.setPixelRatio(Math.min(window.devicePixelRatio,2));const r=300,o=new Float32Array(900);for(let e=0;e<r;e++)o[3*e+0]=10*(Math.random()-.5),o[3*e+1]=10*(Math.random()-.5),o[3*e+2]=10*(Math.random()-.5);const i=new THREE.BufferGeometry;i.setAttribute("position",new THREE.BufferAttribute(o,3));const s=new THREE.PointsMaterial({color:10070709,size:.03,blending:THREE.AdditiveBlending,transparent:!0,sizeAttenuation:!0}),d=new THREE.Points(i,s);t.add(d);const c=new THREE.BufferGeometry,l=new THREE.LineBasicMaterial({color:7506394,transparent:!0,opacity:.3,blending:THREE.AdditiveBlending}),u=new Float32Array(27e4);c.setAttribute("position",new THREE.BufferAttribute(u,3));const g=new THREE.LineSegments(c,l);t.add(g),n.position.z=5;const m=new THREE.Vector2;window.addEventListener("mousemove",e=>{m.x=e.clientX/window.innerWidth*2-1,m.y=-e.clientY/window.innerHeight*2+1}),window.addEventListener("resize",()=>{n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),a.setSize(window.innerWidth,window.innerHeight),a.setPixelRatio(Math.min(window.devicePixelRatio,2))});const p=new THREE.Clock;!function e(){const o=p.getElapsedTime();d.rotation.y=.05*o,d.rotation.x=.05*o;const i=window.scrollY/(document.documentElement.scrollHeight-window.innerHeight);n.position.z=5-4*i,n.position.y=2*-i,n.position.x+=.02*(.5*m.x-n.position.x),n.position.y+=.02*(.5*-m.y-n.position.y),n.lookAt(t.position);let s=0;const c=d.geometry.attributes.position.array;for(let e=0;e<r;e++)for(let t=e+1;t<r;t++){const n=c[3*e],a=c[3*e+1],r=c[3*e+2],o=c[3*t],i=c[3*t+1],d=c[3*t+2],l=n-o,g=a-i,m=r-d;l*l+g*g+m*m<1&&(u[s++]=n,u[s++]=a,u[s++]=r,u[s++]=o,u[s++]=i,u[s++]=d)}g.geometry.attributes.position.needsUpdate=!0,g.geometry.setDrawRange(0,s/3),a.render(t,n),requestAnimationFrame(e)}()})(),(()=>{const e=document.getElementById("skills-constellation-container");if(!e)return;const t={nodes:[{id:"Programação",group:"core"},{id:"Python",group:"language"},{id:"JavaScript",group:"language"},{id:"Java",group:"language"},{id:"Front-End",group:"core"},{id:"React",group:"framework"},{id:"Next.js",group:"framework"},{id:"Tailwind CSS",group:"framework"},{id:"D3.js",group:"library"},{id:"Three.js",group:"library"},{id:"Back-End",group:"core"},{id:"SQL",group:"database"},{id:"Ferramentas",group:"core"},{id:"Git",group:"tool"},{id:"Design",group:"core"},{id:"Figma",group:"tool"},{id:"UI/UX",group:"design"},{id:"Segurança",group:"core"},{id:"Cybersecurity",group:"security"}],links:[{source:"Programação",target:"Python"},{source:"Programação",target:"JavaScript"},{source:"Programação",target:"Java"},{source:"Front-End",target:"JavaScript"},{source:"Front-End",target:"React"},{source:"Front-End",target:"Next.js"},{source:"Front-End",target:"Tailwind CSS"},{source:"React",target:"JavaScript"},{source:"Next.js",target:"React"},{source:"D3.js",target:"JavaScript"},{source:"Three.js",target:"JavaScript"},{source:"Back-End",target:"Python"},{source:"Back-End",target:"Java"},{source:"Back-End",target:"SQL"},{source:"Ferramentas",target:"Git"},{source:"Ferramentas",target:"Figma"},{source:"Design",target:"Figma"},{source:"Design",target:"UI/UX"},{source:"Front-End",target:"UI/UX"},{source:"Segurança",target:"Cybersecurity"},{source:"Programação",target:"Cybersecurity"}]},n={Python:"Comecei a estudar Python aos 14 anos enquanto mergulhava\n  em cybersecurity. A linguagem acabou virando minha porta de entrada\n  para automação e para os bots de Discord que já construí.",JavaScript:"Gosto de pensar no JavaScript como meu “canivete\n  suíço”, do front-end à lógica de servidores, ele me permite\n  transformar ideias em interfaces vivas.",Java:"É a linguagem que me deu disciplina de engenharia de\n  software. Comecei a estudar na UniFil, dentro do curso de Ciência da\n  Computação. Usei Java em projetos acadêmicos de POO e em APIs\n  simples para a Federação de Automobilismo.",React:"React foi a base do LearnConnect. Curto o fluxo de dados\n  previsível que ele traz para UIs complexas.","Next.js":"Server Side Rendering no LearnConnect veio com Next.js,\n  garantindo SEO e páginas super rápidas.","Tailwind CSS":"Meu framework favorito para estilização. Posso\n  prototipar interfaces em minutos sem sair do HTML.","D3.js":"Ferramenta essencial para criar as visualizações interativas\n  de dados de corridas da FPrA, inclusive esta constelação.","Three.js":"Exploro 3D na web por hobby, foi com Three.js que criei\n  o background de partículas deste portfólio.",SQL:"Nada como um bom SELECT para descobrir padrões nos resultados\n  das pistas. Uso SQL todos os dias como data-analyst.",Git:"Tudo o que eu faço no mundo dev é feito com versionamento,\n  sempre busco manter um bom padrão de comunicação e informação nos\n  commits",Figma:"Faço do Figma meu caderno de rascunhos digitais antes de\n  qualquer linha de código. Literalmente a minha paixão mais forte no\n  mundo dev é a arte do design gráfico. Desde pequeno, sempre amei criar.","UI/UX":"Acredito que código bonito é inútil se a experiência\n  desaponta. Por isso estudo fluxos, acessibilidade e micro-interações.",Cybersecurity:"CTFs, labs e muita curiosidade: segurança é meu\n  combustível para aprender como as coisas realmente funcionam.","Programação":"O centro de tudo que faço.","Front-End":"Onde criatividade vira interface.","Back-End":"A engrenagem por trás da mágica.",Ferramentas:"Utilitários que aceleram meu dia a dia.",Design:"Transformando ideias em valor visual.","Segurança":"Camada crítica para qualquer projeto."},a={Python:"assets/images/python.png",JavaScript:"assets/images/javascript.png",Java:"assets/images/java.png",React:"assets/images/react.png","Next.js":"assets/images/nextjs.png","Tailwind CSS":"assets/images/tailwindcss.png","D3.js":"assets/images/d3.png","Three.js":"assets/images/threejs.png",SQL:"assets/images/sql.png",Git:"assets/images/git.png",Figma:"assets/images/figma.png","UI/UX":"assets/images/uiux_design.png",Cybersecurity:"assets/images/cybersecurity.png"},r=e.clientWidth,o=e.clientHeight,i=window.innerWidth<=768,s=i?.65:1,d=i?70:100,c=i?-120:-200,l=document.createElement("div");l.className="skill-info-card",document.body.appendChild(l);const u=d3.select(e).append("svg").attr("viewBox",[-r/2,-o/2,r,o]),g=d3.forceSimulation(t.nodes).force("link",d3.forceLink(t.links).id(e=>e.id).distance(d)).force("charge",d3.forceManyBody().strength(c)).force("center",d3.forceCenter()).force("collide",d3.forceCollide().radius(e=>("core"===e.group?26:20)*s+6).iterations(2));i&&g.alpha(.6);d3.scaleOrdinal(d3.schemeCategory10).domain(["core","language","framework","library","database","tool","design","security"]);const m=u.append("g").attr("class","links").selectAll("line").data(t.links).enter().append("line").attr("class","skill-link"),p=u.append("g").attr("class","nodes").selectAll("g").data(t.nodes).enter().append("g").attr("class","skill-node");p.each(function(e){const t=d3.select(this);if("core"===e.group){const e=52*s;t.classed("core-star",!0).append("image").attr("href","assets/images/star.png").attr("width",e).attr("height",e).attr("x",-e/2).attr("y",-e/2)}else{const n=20*s,r=32*s;t.append("circle").attr("class","glass").attr("r",n),a[e.id]&&t.append("image").attr("href",a[e.id]).attr("width",r).attr("height",r).attr("x",-r/2).attr("y",-r/2)}}),p.append("text").text(e=>e.id).attr("y",e=>"core"===e.group?34*s:28*s).attr("font-size",i?9:11),p.call(d3.drag().on("start",function(e,t){e.active||g.alphaTarget(.3).restart();t.fx=t.x,t.fy=t.y}).on("drag",function(e,t){t.fx=e.x,t.fy=e.y}).on("end",function(e,t){e.active||g.alphaTarget(0);t.fx=null,t.fy=null}));const f={};function h(e,t){const a=n[e.id]||"Em construção…";l.innerHTML=`<h4>${e.id}</h4><p>${a}</p>`,i?l.classList.add("mobile"):(l.classList.remove("mobile"),y(t)),requestAnimationFrame(()=>l.classList.add("visible"))}function y(e){let t=e.clientX+18,n=e.clientY+18;t+l.offsetWidth>window.innerWidth-12&&(t=e.clientX-l.offsetWidth-18),n+l.offsetHeight>window.innerHeight-12&&(n=e.clientY-l.offsetHeight-18),l.style.left=t+"px",l.style.top=n+"px"}function w(){l.classList.remove("visible","mobile")}t.links.forEach(e=>{f[`${e.source.id},${e.target.id}`]=1}),p.on("mouseenter",(e,t)=>h(t,e)).on("mousemove",e=>{i||y(e)}).on("mouseleave",w).on("touchstart",(e,t)=>{e.preventDefault(),h(t,e.touches[0]),window.addEventListener("touchend",w,{once:!0})}),g.on("tick",()=>{m.attr("x1",e=>e.source.x).attr("y1",e=>e.source.y).attr("x2",e=>e.target.x).attr("y2",e=>e.target.y);const e=40*s;p.each(t=>{t.x=Math.max(-r/2+e,Math.min(r/2-e,t.x)),t.y=Math.max(-o/2+e,Math.min(o/2-e,t.y))}).attr("transform",e=>`translate(${e.x},${e.y})`)}),window.addEventListener("resize",()=>{const t=e.clientWidth,n=e.clientHeight;u.attr("viewBox",[-t/2,-n/2,t,n]),g.force("center").x(0).y(0),g.alpha(.2).restart()})})()});
