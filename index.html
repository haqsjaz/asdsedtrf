<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Caio Duque – Portfólio</title>
  <!-- Tailwind via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Bibliotecas para a nova versão -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <style>
    /* Estilos Gerais e Antigos (mantidos para consistência) */
    .tooltip span {
      position: absolute;
      bottom: -1.75rem;
      left: 50%;
      transform: translateX(-50%);
      background-color: rgba(31, 41, 55, 0.9);
      color: #fff;
      padding: 0.25rem 0.5rem;
      font-size: 0.75rem;
      border-radius: 0.25rem;
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: opacity .2s ease;
      z-index: 10;
    }
    .tooltip:hover span {
      opacity: 1;
    }

    .dynamic-gradient {
      position: relative;
      display: inline-block;
      background-image: linear-gradient(90deg, #5A4BFF 0%, #7B46FF 50%, #8E5CFF 100%);
      background-size: 150% 150%;
      background-position: 0% 50%;
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      transition: background-position .4s ease;
    }

    .dynamic-gradient::after {
      content: attr(data-glow);
      position: absolute;
      inset: 0;
      z-index: -1;
      background: inherit;
      background-size: inherit;
      background-position: inherit;
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      filter: blur(6px) brightness(2);
      opacity: 0;
      transition: opacity .2s linear;
      pointer-events: none;
    }

    .dynamic-gradient.radial {
      background-image: conic-gradient(
        from var(--angle, 0deg)
        at var(--cx, 50%) var(--cy, 50%),
        #5A4BFF 0deg, #7B46FF 120deg, #8E5CFF 240deg, #5A4BFF 360deg
      );
      background-size: 150% 150%;
      transition: none;
    }
    .dynamic-gradient.radial::after { opacity: 1; }

    .card {
      position: relative;
      z-index: 2;
      backdrop-filter: blur(10px);
      background-color: rgba(44, 47, 51, .60);
      border: 1px solid rgba(114, 137, 218, .30);
      transition:
        transform .25s ease,
        background-color .25s ease,
        box-shadow .25s ease;
    }

    .card:hover {
      transform: scale(1.04);
      background-color: rgba(44, 47, 51, .25);
      box-shadow: 0 0 20px rgba(114, 137, 218, .35);
      z-index: 3;
    }

    canvas#bg-canvas { /* ID alterado para evitar conflitos */
      display: block;
      position: fixed;
      inset: 0;
      width: 100vw;
      height: 100vh;
      z-index: -1;
      pointer-events: none;
    }

    body {
      overflow-x: hidden;
      overflow-y: auto;
      scroll-behavior: smooth;
    }

    /* ---- NOVOS ESTILOS para Constelação de Habilidades (D3.js) ---- */
    #skills-constellation-container {
        width: 100%;
        max-width: 900px;
        height: 600px; /* Altura fixa para a visualização */
        margin: 0 auto;
        position: relative;
        z-index: 5;
    }

    #skills-constellation-container svg {
        width: 100%;
        height: 100%;
    }

    .skill-link {
        stroke: rgba(114, 137, 218, 0.4);
        stroke-width: 1.5px;
        transition: stroke 0.3s ease;
    }

    .skill-node circle {
        stroke: #fff;
        stroke-width: 1.5px;
        transition: transform 0.3s ease, fill 0.3s ease;
    }
    .skill-node:hover circle {
        transform: scale(1.5);
    }

    .skill-node text {
        fill: #E0E0E0;
        font-size: 12px;
        font-weight: 500;
        pointer-events: none;
        text-anchor: middle;
        dominant-baseline: middle;
    }

    /* Estilos para estado focado/hover */
    .skill-node.focused circle, .skill-node:hover circle {
        stroke: #5A4BFF;
        stroke-width: 3px;
    }
    .skill-link.focused {
        stroke: #8E5CFF;
        stroke-width: 2.5px;
    }
    /* Estilos para elementos não focados */
    .faded {
        opacity: 0.2;
    }

    /* --- nós com glassmorphism --- */
.skill-node circle.glass {
  fill: rgba(44,47,51,.45);             /* vidro escuro */
  backdrop-filter: blur(6px);
  stroke: rgba(255,255,255,.35);
  stroke-width: 1px;
  transition: filter .3s ease, stroke .3s ease, transform .3s ease;
}
.skill-node:hover circle.glass {
  stroke: rgba(128,160,255,.90);        /* brilho azulado */
  filter: drop-shadow(0 0 8px rgba(114,137,218,.6));
  transform: scale(1.25);
}
/* imagem interna mantém-se redonda */
.skill-node image {
  pointer-events:none;                  /* não intercepta o mouse */
  clip-path: circle(50%);
}

    /* estrela adota um leve glow ao passar o mouse */
.skill-node.core-star:hover image {
  filter: drop-shadow(0 0 8px rgba(114,137,218,.7))
          brightness(1.2);
  transform: scale(1.15);
  transition: filter .3s ease, transform .3s ease;
}



    /* -- Mantendo outros estilos -- */
    .icon-svg { width: 24px; height: 24px; fill: currentColor; }
    .carousel-container { position: relative; overflow: hidden; margin: 0 auto; max-width: 960px; padding: 0 2rem; }
    .carousel-track { display: flex; align-items: center; transition: transform 0.5s ease-in-out; }
    .server-card { flex-shrink: 0; width: 380px; max-width: 90%; margin: 0 1rem; opacity: 0; transform: scale(0.7); pointer-events: none; transition: transform 0.5s ease-in-out, opacity 0.5s ease-in-out, box-shadow 0.5s ease; }
    .server-card.is-center { opacity: 1; transform: scale(1); box-shadow: 0 0 30px rgba(114, 137, 218, .5); pointer-events: auto; }
    .server-card.is-left, .server-card.is-right { opacity: 0.3; transform: scale(0.7); pointer-events: auto; }
    .carousel-arrow { position: absolute; top: 50%; transform: translateY(-50%); background-color: rgba(114, 137, 218, 0.4); color: white; padding: 0.75rem 0.5rem; border-radius: 9999px; cursor: pointer; z-index: 10; opacity: 0.7; transition: background-color 0.3s ease, opacity 0.3s ease; display: flex; align-items: center; justify-content: center; width: 40px; height: 40px; }
    .carousel-arrow:hover { background-color: rgba(114, 137, 218, 0.8); opacity: 1; }
    .carousel-arrow.left { left: 0; }
    .carousel-arrow.right { right: 0; }

    #cybersecurityModeBtn { background-color: #000; color: #fff; border: 1px solid #000; transition: all 0.3s ease; box-shadow: 0 0 0 rgba(139, 92, 246, 0); }
    #cybersecurityModeBtn:hover { background-color: #fff; color: #000; border-color: #000; box-shadow: 0 0 20px rgba(139, 92, 246, 0.5); }
    #cybersecurityModeBtn:hover img { filter: invert(1); }

    html, body { width: 100%; overflow-x: hidden; box-sizing: border-box; }
    *, *::before, *::after { box-sizing: inherit }

    .fade-mask { -webkit-mask-image: linear-gradient(to bottom, black 0%, transparent 100%); mask-image: linear-gradient(to bottom, black 0%, transparent 100%); }

    /* Responsividade */
    @media (max-width:768px) {
        header .container { flex-wrap: wrap; gap: 0.5rem 1rem; }
        header h1 { font-size: 1.75rem; flex: 1 0 100%; text-align: center; }
        #cybersecurityModeBtn { order: 3; width: 100%; justify-content: center; }
        nav ul { flex-wrap: wrap; justify-content: center; gap: 0.75rem 1rem; }
        nav a { font-size: 0.875rem; }
        .server-card { width: 280px; margin: 0 0.5rem; }
        .carousel-arrow { width: 30px; height: 30px; padding: 0.5rem 0.25rem; }
        #skills-constellation-container { height: 450px; }
    }
    @media (max-width: 640px) {
        .server-card { width: 90%; }
         #skills-constellation-container { height: 400px; }
    }
  </style>
</head>
<body class="bg-gray-900 text-gray-100 font-sans">
  <!-- O canvas agora será controlado pelo three.js -->
  <canvas id="bg-canvas"></canvas>

  <!-- NAVBAR -->
  <header class="bg-indigo-600 shadow-md sticky top-0 z-50">
    <div class="container mx-auto px-4 py-4 flex justify-between items-center flex-wrap">
      <h1 class="text-4xl font-extrabold text-white">Caio Duque</h1>
      <nav>
        <ul class="flex space-x-6 font-semibold">
          <li><a href="#home" class="hover:text-indigo-200 transition">Início</a></li>
          <li><a href="#about" class="hover:text-indigo-200 transition">Sobre Mim</a></li>
          <li><a href="#skills" class="hover:text-indigo-200 transition">Habilidades</a></li>
          <li><a href="https://github.com/cai0duque" target="_blank" class="hover:text-indigo-200 transition">GitHub</a></li>
          <li><a href="#contatos" class="hover:text-indigo-200 transition">Contatos</a></li>
          <li><a href="#learnconnect" class="hover:text-indigo-200 transition">Projetos</a></li>
        </ul>
      </nav>
      <a href="kali.html" id="cybersecurityModeBtn" class="flex items-center px-4 py-2 rounded-full text-sm font-semibold">
        <img src="assets/images/kali.png" onerror="this.src='https://placehold.co/24x24/000/FFF?text=K';" alt="Kali Icon" class="w-6 h-6 mr-2 transition-filter duration-300" />
        Modo Cybersecurity
      </a>
    </div>
  </header>

  <!-- HERO / BANNER -->
  <section id="home" class="relative">
    <img src="assets/images/banner.png" alt="Banner" class="fade-mask w-full h-[300px] object-cover object-center" />
    <div id="profileCard" class="container mx-auto px-4"> 
      <div class="card rounded-xl shadow-xl -mt-24 p-8 flex flex-col md:flex-row items-center">
        <div class="flex flex-col items-center md:items-start md:flex-row">
          <img src="assets/images/perfil.png" alt="Foto de Perfil" class="w-40 h-40 rounded-full ring-4 ring-indigo-500" />
          <div class="md:ml-6 text-center md:text-left mt-4 md:mt-0 max-w-xl">
            <h2 id="nome"
                class="dynamic-gradient text-3xl font-bold drop-shadow-lg tracking-tight"
                data-glow="Caio Duque">
              Caio Duque
            </h2>
            <p class="mt-2 text-gray-300">Estudante de Ciência da Computação apaixonado por programação, design e cibersegurança. Atualmente, sou Data Analyst na Federação Paranaense do Automobilismo.</p>
          </div>
        </div>
        <div class="mt-6 md:mt-0 md:ml-auto flex space-x-2 flex-wrap justify-center md:justify-end">
            <div class="tooltip relative group mb-2 md:mb-0">
                <img src="assets/images/galaxy_badge.png" alt="Designer" class="w-12 h-12 transition-transform duration-200 group-hover:scale-110" />
                <span>Designer</span>
            </div>
            <div class="tooltip relative group mb-2 md:mb-0">
                <img src="assets/images/old_duques_badge.png" alt="Dono do Old Duque's" class="w-12 h-12 transition-transform duration-200 group-hover:scale-110" />
                <span>Dono do Old Duque's</span>
            </div>
            <div class="tooltip relative group mb-2 md:mb-0">
                <img src="assets/images/languages_badge.png" alt="Fluente em Idiomas" class="w-12 h-12 transition-transform duration-200 group-hover:scale-110" />
                <span>Fluente em Idiomas</span>
            </div>
            <div class="tooltip relative group mb-2 md:mb-0">
                <img src="assets/images/developer_badge.png" alt="Full-stack Dev" class="w-12 h-12 transition-transform duration-200 group-hover:scale-110" />
                <span>Full‑stack Dev</span>
            </div>
            <div class="tooltip relative group mb-2 md:mb-0">
                <img src="assets/images/researcher_badge.png" alt="Pesquisador" class="w-12 h-12 transition-transform duration-200 group-hover:scale-110" />
                <span>Pesquisador</span>
            </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SOBRE MIM -->
  <section id="about" class="container mx-auto px-4 py-16">
    <h3 class="text-center text-3xl font-bold text-indigo-400 mb-8">Sobre Mim</h3>
    <div class="card rounded-xl p-8 max-w-3xl mx-auto text-center">
      <p class="text-gray-300 text-lg mb-4">Olá! Eu sou o Caio Duque, um entusiasta da tecnologia com uma paixão inesgotável por desvendar os segredos da programação e do design. Atualmente, estou imerso nos estudos de Ciência da Computação, buscando não apenas conhecimento, mas a capacidade de criar soluções inovadoras que impactem positivamente o mundo.</p>
      <p class="text-gray-300 text-lg mb-4">Minha jornada inclui experiências significativas como Moderador no servidor Viggle, onde aprimorei minhas habilidades de comunicação e gestão de comunidades, e como criador do "Old Duque's", um espaço dedicado ao compartilhamento de conhecimento em diversas áreas tech.</p>
      <p class="text-300 text-lg">Sou movido pela curiosidade, sempre em busca de novos desafios em cibersegurança e no desenvolvimento full-stack. Acredito que a tecnologia é uma ferramenta poderosa para a transformação, e estou sempre pronto para colaborar em projetos que busquem fazer a diferença.</p>
      <div class="mt-8">
        <a href="assets/CaioDuque_CV.pdf" download class="inline-block bg-indigo-600 hover:bg-indigo-500 transition text-white px-6 py-3 rounded-full shadow-lg font-semibold">
            Baixar CV
        </a>
      </div>
    </div>
  </section>

  <!-- HABILIDADES (NOVA VERSÃO COM D3.JS) -->
  <section id="skills" class="container mx-auto px-4 py-16">
    <h3 class="text-center text-3xl font-bold text-indigo-400 mb-12">Constelação de Habilidades</h3>
    <div id="skills-constellation-container">
        <!-- O SVG para o grafo D3 será inserido aqui pelo JavaScript -->
    </div>
  </section>

  <!-- PROJETOS -->
  <section id="learnconnect" class="container mx-auto px-4 py-16">
    <h3 class="text-center text-3xl font-bold text-indigo-400 mb-8">Projetos em Destaque</h3>
    <div class="grid md:grid-cols-2 gap-8">
      <div class="card rounded-xl p-6 flex flex-col items-center hover:shadow-indigo-600/30 transition">
        <img src="assets/images/learnconnect_logo.png" alt="LearnConnect Logo" class="w-24 h-24 object-contain rounded-lg mb-4" />
        <h4 class="text-xl font-semibold mb-2">LearnConnect</h4>
        <p class="text-gray-300 text-center mb-4">Plataforma de aprendizado colaborativo que integra servidor Discord e website Next.js, oferecendo material e networking em tecnologia.</p>
        <a href="http://168.75.74.153:3001/" target="_blank" class="inline-block bg-indigo-600 hover:bg-indigo-500 transition text-white px-5 py-2 rounded-full shadow">Visitar Site</a>
      </div>
      <div class="card rounded-xl p-6 flex flex-col items-center hover:shadow-indigo-600/30 transition">
        <img src="assets/images/amadeusAI.png" alt="Amadeus AI Logo" class="w-24 h-24 object-contain rounded-lg mb-4" />
        <h4 class="text-xl font-semibold mb-2">Amadeus AI</h4>
        <p class="text-gray-300 text-center mb-4">
          Amadeus é uma solução inovadora para atendimento especial no projeto LearnConnect e Old Duque’s. Uma IA avançada que funciona via Discord Bot e API.
        </p>
        <a href="https://github.com/cai0duque/Discord-Bot-IA" target="_blank" class="inline-block bg-emerald-500 hover:bg-emerald-400 transition text-white px-5 py-2 rounded-full shadow">
          Acessar repositório
        </a>
      </div>
    </div>
  </section>

  <!-- SERVIDORES DISCORD (CAROUSEL) -->
  <section class="py-16">
    <div class="container mx-auto px-4 py-12">
      <h3 class="text-center text-3xl font-bold text-indigo-400 mb-8">Servidores Discord</h3>
      <div class="carousel-container">
        <div class="carousel-track" id="serverCarouselTrack">
          <!-- VIGGLE -->
          <div class="server-card card rounded-xl p-6 flex flex-col items-center hover:shadow-indigo-600/30 transition">
            <div class="flex items-center mb-4">
              <img src="assets/images/viggle_logo.png" alt="Viggle Logo" class="w-20 h-20 rounded-full object-cover" />
              <div class="ml-4 text-left">
                <h4 class="text-xl font-semibold flex items-center">Viggle <img src="assets/images/verified_server.png" alt="Verificado" class="w-5 h-5 ml-1" /></h4>
                <p class="text-sm text-gray-400 flex items-center"><img src="assets/images/number_members.png" alt="Membros" class="w-4 h-4 mr-1" /> 4.300.000+</p>
              </div>
            </div>
            <p class="mt-4 text-gray-300 flex-1 text-center">Servidor oficial da IA Viggle, líder mundial em mixagem de animações e vídeos gerados por IA. Participe e experimente gratuitamente!</p>
            <div class="mt-6 flex items-center w-full justify-between">
              <span class="inline-flex items-center bg-indigo-600 px-3 py-1 rounded-full text-sm"><img src="assets/images/moderator_role.png" alt="Ex-Moderador" class="w-4 h-4 mr-1" /> Ex-Moderador</span>
              <button onclick="window.open('https://discord.gg/viggle','_blank')" class="bg-emerald-500 hover:bg-emerald-400 transition text-white px-5 py-2 rounded-full shadow">Entrar</button>
            </div>
          </div>
          <!-- OLD DUQUE’S -->
          <div class="server-card card rounded-xl p-6 flex flex-col items-center hover:shadow-indigo-600/30 transition">
            <div class="flex items-center mb-4">
              <img src="assets/images/old_duques_logo.png" alt="Old Duque's Logo" class="w-20 h-20 rounded-full object-cover" />
              <div class="ml-4 text-left">
                <h4 class="text-xl font-semibold flex items-center">Old Duque's <img src="assets/images/server_booster_badge.png" alt="Booster" class="w-5 h-5 ml-1" /></h4>
                <p class="text-sm text-gray-400 flex items-center"><img src="assets/images/number_members.png" alt="Membros" class="w-4 h-4 mr-1" /> 220</p>
              </div>
            </div>
            <p class="mt-4 text-gray-300 flex-1 text-center">Clã Old Duque's: central de materiais e conteúdos de qualidade sobre programação, design, edição de vídeo, moderação e muito mais.</p>
            <div class="mt-6 flex items-center w-full justify-between">
              <span class="inline-flex items-center bg-indigo-600 px-3 py-1 rounded-full text-sm"><img src="assets/images/emperor.png" alt="Proprietário" class="w-4 h-4 mr-1" /> Proprietário</span>
              <button onclick="window.open('https://discord.gg/bwHGH75Txb','_blank')" class="bg-emerald-500 hover:bg-emerald-400 transition text-white px-5 py-2 rounded-full shadow">Entrar</button>
            </div>
          </div>
          <!-- FORMULA 1 -->
          <div class="server-card card rounded-xl p-6 flex flex-col items-center hover:shadow-indigo-600/30 transition">
            <div class="flex items-center mb-4">
              <img src="assets/images/f1.png" alt="Formula 1 Logo" class="w-20 h-20 rounded-full object-cover" onerror="this.src='https://placehold.co/80x80/E10600/FFFFFF?text=F1';" />
              <div class="ml-4 text-left">
                <h4 class="text-xl font-semibold flex items-center">Formula One <img src="assets/images/partner.png" alt="Partner" class="w-5 h-5 ml-1" onerror="this.src='https://placehold.co/20x20/F05F40/FFFFFF?text=P';" /></h4>
                <p class="text-sm text-gray-400 flex items-center"><img src="assets/images/number_members.png" alt="Membros" class="w-4 h-4 mr-1" /> 100.000+</p>
              </div>
            </div>
            <p class="mt-4 text-gray-300 flex-1 text-center">Servidor original de Fórmula 1 no Discord - junte-se para discutir o melhor esporte do mundo e conhecer outros fãs!</p>
            <div class="mt-6 flex items-center w-full justify-between">
              <span class="inline-flex items-center bg-indigo-600 px-3 py-1 rounded-full text-sm"><img src="assets/images/motorsport.png" alt="Motorsport Affiliated" class="w-4 h-4 mr-1" onerror="this.src='https://placehold.co/16x16/E10600/FFFFFF?text=Moto';" /> Motorsport Affiliated</span>
              <button onclick="window.open('https://discord.gg/f1','_blank')" class="bg-emerald-500 hover:bg-emerald-400 transition text-white px-5 py-2 rounded-full shadow">Entrar</button>
            </div>
          </div>
        </div>
        <button class="carousel-arrow left" id="carouselPrev"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg></button>
        <button class="carousel-arrow right" id="carouselNext"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg></button>
      </div>
    </div>
  </section>

  <!-- CONTATOS -->
  <section id="contatos" class="container mx-auto px-4 py-16">
    <h3 class="text-center text-3xl font-bold text-indigo-400 mb-8">Contatos</h3>
    <div class="flex flex-col md:flex-row justify-center items-center space-y-6 md:space-y-0 md:space-x-10">
      <a href="mailto:contact@caioduque.dev" class="flex items-center space-x-2 hover:text-indigo-400 transition">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg>
        <span>Email</span>
      </a>
      <a href="https://github.com/cai0duque" target="_blank" class="flex items-center space-x-2 hover:text-indigo-400 transition">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M12 0a12 12 0 00-3.8 23.4c.6.1.8-.3.8-.6v-2.3c-3.3.7-4-1.6-4-1.6-.6-1.3-1.5-1.7-1.5-1.7-1.2-.8.1-.8.1-.8 1.3.1 2 .9 2 .9 1.2 2 3.1 1.4 3.9 1 0-.9.5-1.4.9-1.7-2.7-.3-5.5-1.3-5.5-6a4.7 4.7 0 011.2-3.2 4.3 4.3 0 01.1-3.2s1-.3 3.3 1.2a11.5 11.5 0 016 0c2.3-1.5 3.3-1.2 3.3-1.2.5 1.2.5 2.3.1 3.2a4.7 4.7 0 011.2 3.2c0 4.7-2.8 5.7-5.5 6 .4.3.8 1 .8 2v3c0 .3.2.7.8.6A12 12 0 0012 0z" clip-rule="evenodd"/></svg>
        <span>GitHub</span>
      </a>
      <a href="https://linkedin.com/in/cai0duque" target="_blank" class="flex items-center space-x-2 hover:text-indigo-400 transition">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.762 2.239 5 5 5h14c2.761 0 5-2.238 5-5v-14c0-2.761-2.239-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.784-1.75-1.749s.784-1.75 1.75-1.75c.965 0 1.749.785 1.749 1.75 0 .965-.784 1.749-1.749 1.749zm13.5 12.268h-3v-5.5c0-1.378-.026-3.152-1.918-3.152-1.918 0-2.212 1.5-2.212 3.053v5.599h-3v-11h2.879v1.507h.041c.401-.76 1.382-1.562 2.848-1.562 3.048 0 3.611 2.008 3.611 4.62v6.435z"/></svg>
        <span>LinkedIn</span>
      </a>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="bg-gray-800 py-6">
    <p class="text-center text-sm text-gray-500">© 2025 Caio Duque. Todos os direitos reservados.</p>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
    
      // --- MANTENDO LÓGICA EXISTENTE (GRADIENTE DINÂMICO E CARROSSEL) ---
      // Esta parte do seu código original foi mantida, pois é excelente e funciona bem.
      // Apenas a lógica do canvas 2D foi removida.
      const nameEl = document.getElementById('nome');
      const dynamicGradientAnimations = new Map();

      function startDynamicGradientAnimation(element) {
        let animState = dynamicGradientAnimations.get(element);
        if (!animState) {
          animState = { rafId: null, angle: 0, spinning: false };
          dynamicGradientAnimations.set(element, animState);
        }
        if (animState.spinning) return;
        animState.angle = 0;
        element.style.setProperty('--angle', '0deg');
        animState.spinning = true;
        function frame() {
          if (!animState.spinning) return;
          animState.angle = (animState.angle + 6) % 360;
          element.style.setProperty('--angle', animState.angle + 'deg');
          animState.rafId = requestAnimationFrame(frame);
        }
        frame();
        element.classList.add('radial');
      }

      function stopDynamicGradientAnimation(element) {
        let animState = dynamicGradientAnimations.get(element);
        if (animState) {
          animState.spinning = false;
          if (animState.rafId) cancelAnimationFrame(animState.rafId);
          animState.rafId = null;
          element.classList.remove('radial');
          element.style.backgroundPosition = '0% 50%';
        }
      }

      function handleDynamicGradientMouseMove(element, e) {
        const rect = element.getBoundingClientRect();
        const cx = ((e.clientX - rect.left) / rect.width) * 100;
        const cy = ((e.clientY - rect.top) / rect.height) * 100;
        element.style.setProperty('--cx', cx + '%');
        element.style.setProperty('--cy', cy + '%');
      }

      const profileCardElement = document.getElementById('profileCard');
      profileCardElement.addEventListener('mouseenter', () => startDynamicGradientAnimation(nameEl));
      profileCardElement.addEventListener('mousemove', (e) => handleDynamicGradientMouseMove(nameEl, e));
      profileCardElement.addEventListener('mouseleave', () => stopDynamicGradientAnimation(nameEl));
      
      nameEl.addEventListener('mouseenter', () => startDynamicGradientAnimation(nameEl));
      nameEl.addEventListener('mousemove', (e) => handleDynamicGradientMouseMove(nameEl, e));
      nameEl.addEventListener('mouseleave', (e) => {
        if (!profileCardElement.contains(e.relatedTarget)) {
          stopDynamicGradientAnimation(nameEl);
        }
      });
      
      window.addEventListener('scroll', () => {
        if (!nameEl.classList.contains('radial')) {
          const max = document.documentElement.scrollHeight - window.innerHeight;
          const pct = (window.scrollY / max) * 100;
          nameEl.style.backgroundPosition = `${pct}% 50%`;
        }
      });

      // Lógica do Carrossel (mantida integralmente)
      const carouselContainer = document.querySelector('.carousel-container');
      const carouselTrack = document.getElementById('serverCarouselTrack');
      const prevButton = document.getElementById('carouselPrev');
      const nextButton = document.getElementById('carouselNext');
      if(carouselTrack) { // Adicionando verificação para garantir que os elementos existem
        let originalServerCards = Array.from(document.querySelectorAll('#serverCarouselTrack > .server-card'));
        let serverCards = [];
        let currentIndex = 0;
        let isTransitioning = false;
        let autoScrollInterval;
        let preClones = 1;
        let postClones = 1;

        function setupInfiniteCarousel() {
            if (originalServerCards.length === 0) return;
            const preClone = originalServerCards[originalServerCards.length - 1].cloneNode(true);
            const postClone = originalServerCards[0].cloneNode(true);
            carouselTrack.innerHTML = '';
            carouselTrack.appendChild(preClone);
            originalServerCards.forEach(c => carouselTrack.appendChild(c.cloneNode(true)));
            carouselTrack.appendChild(postClone);
            serverCards = Array.from(carouselTrack.children);
            currentIndex = preClones;
            updateCarousel(true);
        }

        function updateCarousel(instant = false) {
            if (isTransitioning && !instant) return;
            if (instant) {
                carouselTrack.style.transition = 'none';
            } else {
                carouselTrack.style.transition = 'transform 0.5s ease-in-out';
                isTransitioning = true;
            }
            serverCards.forEach((card, index) => {
                card.classList.remove('is-center', 'is-left', 'is-right');
                if (index === currentIndex) card.classList.add('is-center');
                else if (index === (currentIndex - 1 + serverCards.length) % serverCards.length) card.classList.add('is-left');
                else if (index === (currentIndex + 1) % serverCards.length) card.classList.add('is-right');
            });
            const containerCenter = carouselContainer.offsetWidth / 2;
            const currentCentralCard = serverCards[currentIndex];
            const currentCardCenter = currentCentralCard.offsetLeft + currentCentralCard.offsetWidth / 2;
            const translateXValue = containerCenter - currentCardCenter;
            carouselTrack.style.transform = `translateX(${translateXValue}px)`;
            if (!instant) {
              setTimeout(() => { isTransitioning = false; }, 500);
            }
        }

        carouselTrack.addEventListener('transitionend', e => {
            if (e.propertyName !== 'transform') return;
            isTransitioning = false;
            let needSnap = false;
            if (currentIndex >= serverCards.length - postClones) {
                currentIndex = preClones;
                needSnap = true;
            } else if (currentIndex < preClones) {
                currentIndex = serverCards.length - postClones - preClones;
                needSnap = true;
            }
            if (needSnap) {
                carouselTrack.style.transition = 'none';
                updateCarousel(true);
                void carouselTrack.offsetWidth;
                carouselTrack.style.transition = 'transform 0.5s ease-in-out';
            }
        });
        
        nextButton.addEventListener('click', () => { if (!isTransitioning) { currentIndex++; updateCarousel(); } });
        prevButton.addEventListener('click', () => { if (!isTransitioning) { currentIndex--; updateCarousel(); } });
        
        const startAutoScroll = () => { stopAutoScroll(); autoScrollInterval = setInterval(() => nextButton.click(), 6000); };
        const stopAutoScroll = () => clearInterval(autoScrollInterval);

        carouselContainer.addEventListener('mouseenter', stopAutoScroll);
        carouselContainer.addEventListener('mouseleave', startAutoScroll);
        window.addEventListener('resize', setupInfiniteCarousel);
        setupInfiniteCarousel();
        startAutoScroll();
      }


      // --- FEATURE 1: BACKGROUND 3D INTERATIVO COM THREE.JS ---
      (() => {
        const canvas = document.getElementById('bg-canvas');
        if (!canvas) return;

        // Scene setup
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

        // Particles
        const particlesCount = 300;
        const positions = new Float32Array(particlesCount * 3);
        for (let i = 0; i < particlesCount; i++) {
          positions[i * 3 + 0] = (Math.random() - 0.5) * 10; // x
          positions[i * 3 + 1] = (Math.random() - 0.5) * 10; // y
          positions[i * 3 + 2] = (Math.random() - 0.5) * 10; // z
        }
        const particlesGeometry = new THREE.BufferGeometry();
        particlesGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
        const particlesMaterial = new THREE.PointsMaterial({
          color: 0x99AAB5,
          size: 0.03,
          blending: THREE.AdditiveBlending,
          transparent: true,
          sizeAttenuation: true
        });
        const particles = new THREE.Points(particlesGeometry, particlesMaterial);
        scene.add(particles);

        // Lines
        const linesGeometry = new THREE.BufferGeometry();
        const linesMaterial = new THREE.LineBasicMaterial({
          color: 0x7289DA,
          transparent: true,
          opacity: 0.3,
          blending: THREE.AdditiveBlending
        });
        const linePositions = new Float32Array(particlesCount * particlesCount * 3);
        linesGeometry.setAttribute('position', new THREE.BufferAttribute(linePositions, 3));
        const lines = new THREE.LineSegments(linesGeometry, linesMaterial);
        scene.add(lines);

        camera.position.z = 5;

        // Mouse tracking
        const mouse = new THREE.Vector2();
        window.addEventListener('mousemove', (event) => {
          mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
          mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;
        });

        // Resize handler
        window.addEventListener('resize', () => {
          camera.aspect = window.innerWidth / window.innerHeight;
          camera.updateProjectionMatrix();
          renderer.setSize(window.innerWidth, window.innerHeight);
          renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
        });
        
        const clock = new THREE.Clock();

        function animateThree() {
          const elapsedTime = clock.getElapsedTime();
          particles.rotation.y = elapsedTime * 0.05;
          particles.rotation.x = elapsedTime * 0.05;
          
          // Animate camera based on scroll
          const scrollY = window.scrollY;
          const scrollMax = document.documentElement.scrollHeight - window.innerHeight;
          const scrollPercent = scrollY / scrollMax;
          camera.position.z = 5 - scrollPercent * 4;
          camera.position.y = -scrollPercent * 2;


          // Parallax effect
          camera.position.x += (mouse.x * 0.5 - camera.position.x) * 0.02;
          camera.position.y += (-mouse.y * 0.5 - camera.position.y) * 0.02;
          camera.lookAt(scene.position);
          
          // Update lines
          let lineVertexIndex = 0;
          const particlePositions = particles.geometry.attributes.position.array;
          const maxDistSq = 1 * 1; // Square of max distance for connection
          for (let i = 0; i < particlesCount; i++) {
            for (let j = i + 1; j < particlesCount; j++) {
                const ix = particlePositions[i * 3];
                const iy = particlePositions[i * 3 + 1];
                const iz = particlePositions[i * 3 + 2];
                const jx = particlePositions[j * 3];
                const jy = particlePositions[j * 3 + 1];
                const jz = particlePositions[j * 3 + 2];
                const dx = ix - jx;
                const dy = iy - jy;
                const dz = iz - jz;
                const distSq = dx*dx + dy*dy + dz*dz;

                if (distSq < maxDistSq) {
                    linePositions[lineVertexIndex++] = ix;
                    linePositions[lineVertexIndex++] = iy;
                    linePositions[lineVertexIndex++] = iz;
                    linePositions[lineVertexIndex++] = jx;
                    linePositions[lineVertexIndex++] = jy;
                    linePositions[lineVertexIndex++] = jz;
                }
            }
          }
          lines.geometry.attributes.position.needsUpdate = true;
          // Important: only draw the lines that were updated
          lines.geometry.setDrawRange(0, lineVertexIndex / 3);

          renderer.render(scene, camera);
          requestAnimationFrame(animateThree);
        }
        animateThree();
      })();


      // --- FEATURE 2: CONSTELAÇÃO DE HABILIDADES COM D3.JS ---
      (() => {
        const container = document.getElementById('skills-constellation-container');
        if (!container) return;

        const skillsData = {
            nodes: [
                { id: "Programação", group: "core" },
                { id: "Python", group: "language" },
                { id: "JavaScript", group: "language" },
                { id: "Java", group: "language" },
                { id: "Front-End", group: "core" },
                { id: "React", group: "framework" },
                { id: "Next.js", group: "framework" },
                { id: "Tailwind CSS", group: "framework" },
                { id: "D3.js", group: "library" },
                { id: "Three.js", group: "library" },
                { id: "Back-End", group: "core" },
                { id: "SQL", group: "database" },
                { id: "Ferramentas", group: "core" },
                { id: "Git", group: "tool" },
                { id: "Design", group: "core" },
                { id: "Figma", group: "tool" },
                { id: "UI/UX", group: "design" },
                { id: "Segurança", group: "core" },
                { id: "Cybersecurity", group: "security" },
            ],
            links: [
                { source: "Programação", target: "Python" }, { source: "Programação", target: "JavaScript" }, { source: "Programação", target: "Java" },
                { source: "Front-End", target: "JavaScript" }, { source: "Front-End", target: "React" }, { source: "Front-End", target: "Next.js" }, { source: "Front-End", target: "Tailwind CSS" },
                { source: "React", target: "JavaScript" }, { source: "Next.js", target: "React" }, { source: "D3.js", target: "JavaScript" }, { source: "Three.js", target: "JavaScript" },
                { source: "Back-End", target: "Python" }, { source: "Back-End", target: "Java" }, { source: "Back-End", target: "SQL" },
                { source: "Ferramentas", target: "Git" }, { source: "Ferramentas", target: "Figma" },
                { source: "Design", target: "Figma" }, { source: "Design", target: "UI/UX" }, { source: "Front-End", target: "UI/UX" },
                { source: "Segurança", target: "Cybersecurity" }, { source: "Programação", target: "Cybersecurity" }
            ]
        };

        const skillIcons = {
  "Python":        "assets/images/python.png",
  "JavaScript":    "assets/images/javascript.png",
  "Java":          "assets/images/java.png",
  "React":         "assets/images/react.png",
  "Next.js":       "assets/images/nextjs.png",
  "Tailwind CSS":  "assets/images/tailwindcss.png",
  "D3.js":         "assets/images/d3.png",          //  ←   NOVAS!
  "Three.js":      "assets/images/threejs.png",
  "SQL":           "assets/images/sql.png",
  "Git":           "assets/images/git.png",
  "Figma":         "assets/images/figma.png",
  "UI/UX":         "assets/images/uiux_design.png",
  "Cybersecurity": "assets/images/cybersecurity.png",
  // os “core” (Programação, etc.) podem ficar sem ícone
};


        const width = container.clientWidth;
        const height = container.clientHeight;

        const svg = d3.select(container).append("svg")
            .attr("viewBox", [-width / 2, -height / 2, width, height]);

        const simulation = d3.forceSimulation(skillsData.nodes)
            .force("link", d3.forceLink(skillsData.links).id(d => d.id).distance(100))
            .force("charge", d3.forceManyBody().strength(-200))
            .force("center", d3.forceCenter());

        const colorScale = d3.scaleOrdinal(d3.schemeCategory10)
            .domain(["core", "language", "framework", "library", "database", "tool", "design", "security"]);

        const link = svg.append("g")
            .attr("class", "links")
            .selectAll("line")
            .data(skillsData.links)
            .enter().append("line")
            .attr("class", "skill-link");

        const node = svg.append("g")
            .attr("class", "nodes")
            .selectAll("g")
            .data(skillsData.nodes)
            .enter().append("g")
            .attr("class", "skill-node");

        node.each(function (d) {
  const g = d3.select(this);

  /* ───────── NÓS “CORE” VIRAM ESTRELA ───────── */
  if (d.group === "core") {
    g.classed("core-star", true)            // classe p/ CSS
     .append("image")
     .attr("href", "assets/images/star.png")
     .attr("width", 52)                     // ≈ 2 × 26 px
     .attr("height", 52)
     .attr("x", -26)
     .attr("y", -26);
  }
  /* ──────── Todos os demais continuam vidro ──────── */
  else {
    g.append("circle")
     .attr("class", "glass")
     .attr("r", 20);

  /* imagem se existir */
  if (skillIcons[d.id]) {
    g.append("image")
     .attr("href", skillIcons[d.id])
     .attr("width", d.group === "core" ? 40 : 32)
     .attr("height", d.group === "core" ? 40 : 32)
     .attr("x", d.group === "core" ? -20 : -16)
     .attr("y", d.group === "core" ? -20 : -16);
   }
  }
});

        node.append("text")
        .text(d => d.id)
        .attr("y", d => (d.group === "core" ? 34 : 28))   /* vai para baixo da bolinha */
        .attr("font-size", 11);


        node.call(d3.drag()
            .on("start", dragstarted)
            .on("drag", dragged)
            .on("end", dragended));

        // wrapper interno para aplicar transform via zoom
//const gZoom = svg.append("g");
//gZoom.append(() => link.node().parentNode.removeChild(link.node()));
//gZoom.append(() => node.node().parentNode.removeChild(node.node()));
//gZoom.append(() => link.node());
//gZoom.append(() => node.node());

// Zoom + pan (arrastar) + pinch
//svg.call(
  //d3.zoom()
    // .scaleExtent([.5, 3])
     //.on("zoom", e => gZoom.attr("transform", e.transform))
//);

            
        // Hover/Focus functionality
        const linkedByIndex = {};
        skillsData.links.forEach(d => {
            linkedByIndex[`${d.source.id},${d.target.id}`] = 1;
        });

        function isConnected(a, b) {
            return linkedByIndex[`${a.id},${b.id}`] || linkedByIndex[`${b.id},${a.id}`] || a.id === b.id;
        }

        node.on("mouseover", function(event, d) {
            node.classed("faded", n => !isConnected(d, n));
            link.classed("faded", l => d.id !== l.source.id && d.id !== l.target.id);
            d3.select(this).classed("faded", false);
        }).on("mouseout", function() {
            node.classed("faded", false);
            link.classed("faded", false);
        });


        simulation.on("tick", () => {
            link
                .attr("x1", d => d.source.x)
                .attr("y1", d => d.source.y)
                .attr("x2", d => d.target.x)
                .attr("y2", d => d.target.y);
            const margin = 40;                       // distância mínima da borda
            node
                .each(d => {                           // mantém dentro da viewBox
                  d.x = Math.max(-width/2  + margin, Math.min(width/2  - margin, d.x));
                  d.y = Math.max(-height/2 + margin, Math.min(height/2 - margin, d.y));
          })
                .attr("transform", d => `translate(${d.x},${d.y})`);

        });

        function dragstarted(event, d) {
            if (!event.active) simulation.alphaTarget(0.3).restart();
            d.fx = d.x;
            d.fy = d.y;
        }

        function dragged(event, d) {
            d.fx = event.x;
            d.fy = event.y;
        }

        function dragended(event, d) {
            if (!event.active) simulation.alphaTarget(0);
            d.fx = null;
            d.fy = null;
        }

        window.addEventListener("resize", () => {
  const w      = container.clientWidth;
  const h      = container.clientHeight;
  svg.attr("viewBox", [-w/2, -h/2, w, h]);
  simulation.force("center").x(0).y(0);
  simulation.alpha(0.2).restart();       // reposiciona suavemente
        });

      })();
    });
  </script>
</body>
</html>
